!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).wtf=t()}(this,(function(){"use strict";function e(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})})),t}var t=e(Object.freeze({__proto__:null,default:function(e,t){return t=t||{},new Promise((function(i,a){var n=new XMLHttpRequest,r=[],o=[],s={},l=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:l,headers:{keys:function(){return r},entries:function(){return o},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in n.open(t.method||"get",e,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,i){r.push(t=t.toLowerCase()),o.push([t,i]),s[t]=s[t]?s[t]+","+i:i})),i(l())},n.onerror=a,n.withCredentials="include"==t.credentials,t.headers)n.setRequestHeader(c,t.headers[c]);n.send(t.body||null)}))}})),i=self.fetch||(self.fetch=t.default||t);var a=function(e){let t=new URL(e),i=t.pathname.replace(/^\/(wiki\/)?/,"");return i=decodeURIComponent(i),{domain:t.host,title:i}};var n={capitalise:function(e){return e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):""},trim_whitespace:function(e){return e&&"string"==typeof e?e=(e=(e=(e=e.replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/ {2}/," ")).replace(/\s, /,", "):""},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)}};const{isArray:r}=n,o=/(wikibooks|wikidata|wikimedia|wikinews|wikipedia|wikiquote|wikisource|wikispecies|wikiversity|wikivoyage|wiktionary|foundation|meta)\.org/,s={action:"query",prop:"revisions|pageprops",rvprop:"content",maxlag:5,rvslots:"main",origin:"*",format:"json",redirects:"true"},l=function(e){return Object.entries(e).map((e=>{let[t,i]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(i))})).join("&")},c=e=>e.replace(/ /g,"_").trim();var u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=Object.assign({},t),a="";if(e.domain){let t=o.test(e.domain)?"w/api.php":e.path;a="https://".concat(e.domain,"/").concat(t,"?")}else{if(!e.lang||!e.wiki)return"";a="https://".concat(e.lang,".").concat(e.wiki,".org/w/api.php?")}e.follow_redirects||delete i.redirects,e.origin&&(i.origin=e.origin);let n=e.title;if("number"==typeof n)i.pageids=n;else if("string"==typeof n)i.titles=c(n);else if(void 0!==n&&r(n)&&"number"==typeof n[0])i.pageids=n.join("|");else{if(void 0===n||!0!==r(n)||"string"!=typeof n[0])return"";i.titles=n.map(c).join("|")}return"".concat(a).concat(l(i))};var m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object.keys(e.query.pages);return i.map((i=>{let a=e.query.pages[i]||{};if(a.hasOwnProperty("missing")||a.hasOwnProperty("invalid"))return null;let n=a.revisions[0]["*"];!n&&a.revisions[0].slots&&(n=a.revisions[0].slots.main["*"]),a.pageprops=a.pageprops||{};let r=t.domain;return!r&&t.wiki&&(r="".concat(t.wiki,".org")),{wiki:n,meta:Object.assign({},t,{title:a.title,pageID:a.pageid,namespace:a.ns,domain:r,wikidata:a.pageprops.wikibase_item,description:a.pageprops["wikibase-shortdesc"]})}}))};var p=function(e,t,i){let a=[];return e.sections().forEach((e=>{let n=[];n="string"==typeof i?e[t](i):e[t](),n.forEach((e=>{a.push(e)}))})),"number"==typeof i?void 0===a[i]?[]:[a[i]]:a};var d=function(e,t){return Object.assign({},t,e)};const g=d,h={title:!0,sections:!0,pageID:!0,categories:!0};var f=function(e,t){let i={};return(t=g(t,h)).title&&(i.title=e.title()),t.pageID&&(i.pageID=e.pageID()),t.categories&&(i.categories=e.categories()),t.sections&&(i.sections=e.sections().map((e=>e.json(t)))),!0===e.isRedirect()&&(i.isRedirect=!0,i.redirectTo=e.redirectTo(),i.sections=[]),t.coordinates&&(i.coordinates=e.coordinates()),t.infoboxes&&(i.infoboxes=e.infoboxes().map((e=>e.json(t)))),t.images&&(i.images=e.images().map((e=>e.json(t)))),t.plaintext&&(i.plaintext=e.text(t)),(t.citations||t.references)&&(i.references=e.references()),i},b={categories:["category","abdeeling","bólkur","catagóir","categori","categoria","categoria","categoría","categorîa","categorìa","catégorie","categorie","catègorie","category","categuria","catigurìa","class","ẹ̀ka","flocc","flocc","flokkur","grup","jamii","kaarangay","kateggoría","kategooria","kategori","kategorî","kategoria","kategória","kategorie","kategoriija","kategorija","kategorio","kategoriya","kategoriýa","kategoriye","kategory","kategorya","kateqoriya","katiguriya","klad","luokka","ñemohenda","roinn","ronney","rummad","setensele","sokajy","sumut","thể","turkum","категорија","категория","категорія","катэгорыя","төркем","קטגוריה","تصنيف","تۈر","رده","श्रेणी","श्रेणी","বিষয়শ্রেণী","หมวดหมู่","분류","분류","分类"],disambig_templates:["dab","disamb","disambig","disambiguation","letter-numbercombdisambig","letter-number combination disambiguation","dmbox","airport disambiguation","biology disambiguation","call sign disambiguation","caselaw disambiguation","chinese title disambiguation","disambiguation cleanup","genus disambiguation","hospital disambiguation","human name disambiguation","human name disambiguation cleanup","letter-number combination disambiguation","mathematical disambiguation","military unit disambiguation","music disambiguation","number disambiguation","opus number disambiguation","phonetics disambiguation","place name disambiguation","portal disambiguation","road disambiguation","school disambiguation","species latin name abbreviation disambiguation","species latin name disambiguation","station disambiguation","synagogue disambiguation","taxonomic authority disambiguation","taxonomy disambiguation","template disambiguation","disamb2","disamb3","disamb4","disambiguation lead","disambiguation lead name","disambiguation name","disamb-term","disamb-terms","aðgreining","aimai","ałtsʼáʼáztiin","anlam ayrımı","anlam ayrımı","apartigilo","argipen","begriepskloorenge","begriffsklärung","begriffsklärung","begriffsklärung","begriffsklearung","bisongidila","bkl","bokokani","caddayn","clerheans","cudakirin","čvor","db","desambig","desambigación","desambiguação","desambiguació","desambiguación","desambiguáncia","desambiguasion","desambiguassiù","desambigui","dezambiguizare","dəqiqləşdirmə","disambigua","disambigua","disambigua","disambìgua","disambigua","disambiguasi","disambiguasi","discretiva","disheñvelout","disingkek","dixanbigua","dixebra","diżambigwazzjoni","doorverwijspagina","dp","dp","dubbelsinnig","dudalipen","dv","egyért","fleiri týdningar","fleirtyding","flertydig","förgrening","gì-ngiê","giklaro","gwahaniaethu","homonimo","homónimos","homonymie","huaʻōlelo puana like","idirdhealú","khu-pia̍t","kthjellim","kujekesa","maana","maneo bin","mehrdüdig begreep","menm non","muardüüdag artiikel","neibetsjuttings","nozīmju atdalīšana","nuorodinis","nyahkekaburan","omonimeye","omonimia","page dé frouque","paglilinaw","panangilawlawag","pansayod","pejy mitovy anarana","peker","razdvojba","razločitev","razvrstavanje","reddaghey","rozcestník","rozlišovacia stránka","sclerir noziun","selvendyssivu","soilleireachadh","suzmunski","täpsustuslehekülg","täsmennyssivu","telplänov","tlahtolmelahuacatlaliztli","trang định hướng","ujednoznacznienie","verdudeliking","wěcejwóznamowosć","wjacezmyslnosć","zambiguaçon","zeimeibu škiršona","αποσαφήνιση","айрық","аҵакырацәа","вишезначна одредница","ибҳомзудоӣ","кёб магъаналы","күп мәгънәләр","күп мәғәнәлелек","мъногосъмꙑслиѥ","неадназначнасць","неадназначнасьць","неоднозначность","олон удхатай","појаснување","пояснение","са шумуд манавал","салаа утгатай","суолталар","текмаанисиздик","цо магіна гуреб","чеперушка","чолхалла","шуко ончыктымаш-влак","მრავალმნიშვნელოვანი","բազմիմաստութիւն","բազմիմաստություն","באדייטן","פירושונים","ابهام‌زدایی","توضيح","توضيح","دقیقلشدیرمه","ڕوونکردنەوە","سلجهائپ","ضد ابہام","گجگجی بیری","نامبهمېدنه","መንታ","अस्पष्टता","बहुअर्थी","बहुविकल्पी शब्द","দ্ব্যর্থতা নিরসন","ਗੁੰਝਲ-ਖੋਲ੍ਹ","સંદિગ્ધ શીર્ષક","பக்கவழி நெறிப்படுத்தல்","అయోమయ నివృత్తి","ದ್ವಂದ್ವ ನಿವಾರಣೆ","വിവക്ഷകൾ","වක්‍රෝත්ති","แก้ความกำกวม","သံတူကြောင်းကွဲ","ណែនាំ","동음이의","扤清楚","搞清楚","曖昧さ回避","消歧义","釋義","gestion dj'omònim","sut'ichana qillqa"],disambig_titles:["disambiguation","homonymie","توضيح","desambiguação","Begriffsklärung","disambigua","曖昧さ回避","消歧義","搞清楚","значения","ابهام‌زدایی","د ابہام","동음이의","dubbelsinnig","այլ կիրառումներ","ujednoznacznienie"],images:["file","image","चित्र","archivo","attēls","berkas","bestand","datei","dosiero","dosya","fájl","fasciculus","fichier","fil","fitxategi","fitxer","gambar","imagem","imej","immagine","larawan","lêer","plik","restr","slika","wêne","wobraz","выява","податотека","слика","файл","სურათი","պատկեր","קובץ","پرونده","دوتنه","ملف","وێنە","चित्र","ไฟล์","파일","ファイル"],infoboxes:["infobox","anfo","anuāmapa","bilgi kutusu","bilgi","bilgiquti","boaty","boestkelaouiñ","bosca","capsa","diehtokássa","faktamall","ficha","generalni","gwybodlen3","info","infobokis","infoboks","infochascha","infokašćik","infokast","infokutija","infolentelė","infopolje","informkesto","infoskreine","infotaula","inligtingskas","inligtingskas3","inligtingskas4","kishtey","kotak","tertcita","tietolaatikko","yerleşim bilgi kutusu","ynfoboks","πλαίσιο","акарточка","аҥа","инфобокс","инфокутија","инфокутия","інфобокс","канадский","картка","карточка","карточка2","карточкарус","картуш","қуттӣ","ინფოდაფა","տեղեկաքարտ","אינפאקעסטל","תבנית","بطاقة","ڄاڻخانو","خانہ","لغة","ज्ञानसन्दूक","তথ্যছক","ਜਾਣਕਾਰੀਡੱਬਾ","సమాచారపెట్టె","තොරතුරුකොටුව","กล่องข้อมูล","ប្រអប់ព័ត៌មាន","정보상자","明細"],redirects:["adkas","aýdaw","doorverwijzing","ohjaus","patrz","přesměruj","redirección","redireccion","redirección","redirecionamento","redirect","redirection","redirection","rinvia","tilvísun","uudelleenohjaus","weiterleitung","weiterleitung","yönlendi̇r","yönlendirme","yönlendi̇rme","ανακατευθυνση","айдау","перанакіраваньне","перенаправлення","пренасочување","преусмери","преусмјери","تغییر_مسیر","تغییرمسیر","تغییرمسیر","เปลี่ยนทาง","ប្តូរទីតាំងទៅ","転送","重定向"],references:["references","reference","einzelnachweise","referencias","références","notes et références","脚注","referenser","bronnen","примечания"]};let k=" disambiguation";const w=b,y=["dab","dab","disamb","disambig","geodis","hndis","setindex","ship index","split dab","sport index","wp disambig","disambiguation cleanup","airport"+k,"biology"+k,"call sign"+k,"caselaw"+k,"chinese title"+k,"genus"+k,"hospital"+k,"lake index","letter"+k,"letter-number combination"+k,"mathematical"+k,"military unit"+k,"mountainindex","number"+k,"phonetics"+k,"place name"+k,"portal"+k,"road"+k,"school"+k,"species latin name abbreviation"+k,"species latin name"+k,"station"+k,"synagogue"+k,"taxonomic authority"+k,"taxonomy"+k].reduce(((e,t)=>(e[t]=!0,e)),{}),x=new RegExp(". \\(("+w.disambig_titles.join("|")+")\\)$","i"),v=w.disambig_templates.reduce(((e,t)=>(e[t]=!0,e)),{}),$=function(e){if(!e)return!1;let t=e.text();return!(null===t||!t[0]||!0!==/. may (also)? refer to\b/i.test(t))};var j=function(e){if(e.templates().map((e=>e.json())).find((e=>y.hasOwnProperty(e.template)||v.hasOwnProperty(e.template))))return!0;let t=e.title();return!(!t||!0!==x.test(t))||(!0===$(e.sentence(0))||!0===$(e.sentence(1)))};const _=d,z={caption:!0,alt:!0,links:!0,thumb:!0,url:!0};const O=function(e,t){t=_(t,z);let i={file:e.file()};return!1!==t.thumb&&(i.thumb=e.thumbnail()),!1!==t.url&&(i.url=e.url()),!1!==t.caption&&e.data.caption&&(i.caption=e.caption(),!1!==t.links&&e.data.caption.links()&&(i.links=e.links())),!1!==t.alt&&e.data.alt&&(i.alt=e.alt()),i},E=function(e){Object.defineProperty(this,"data",{enumerable:!1,value:e})},S={file(){let e=this.data.file||"";if(e){/^(image|file):/i.test(e)||(e="File:".concat(e)),e=e.trim(),e=e.charAt(0).toUpperCase()+e.substring(1),e=e.replace(/ /g,"_")}return e},alt(){let e=this.data.alt||this.data.file||"";return e=e.replace(/^(file|image):/i,""),e=e.replace(/\.(jpg|jpeg|png|gif|svg)/i,""),e.replace(/_/g," ")},caption(){return this.data.caption?this.data.caption.text():""},links(){return this.data.caption?this.data.caption.links():[]},url(){let e=function(e){let t=function(e){let t=e.replace(/^(image|file?):/i,"");return t=t.charAt(0).toUpperCase()+t.substring(1),t=t.trim().replace(/ /g,"_"),t}(e);return t=encodeURIComponent(t),t}(this.file()),t=this.data.domain||"wikipedia.org";return"https://".concat(t,"/").concat("wiki/Special:Redirect/file","/").concat(e)},thumbnail(e){return e=e||300,this.url()+"?width="+e},format(){let e=this.file().split(".");return e[e.length-1]?e[e.length-1].toLowerCase():null},json:function(e){return O(this,e=e||{})},text:function(){return""},wikitext:function(){return this.data.wiki||""}};Object.keys(S).forEach((e=>{E.prototype[e]=S[e]})),E.prototype.src=E.prototype.url,E.prototype.thumb=E.prototype.thumbnail;var C=E,N={aa:"Afar",ab:"Аҧсуа",af:"Afrikaans",ak:"Akana",als:"Alemannisch",am:"አማርኛ",an:"Aragonés",ang:"Englisc",ar:"العربية",arc:"ܣܘܪܬ",as:"অসমীয়া",ast:"Asturianu",av:"Авар",ay:"Aymar",az:"Azərbaycanca",ba:"Башҡорт",bar:"Boarisch","bat-smg":"Žemaitėška",bcl:"Bikol",be:"Беларуская","be-x-old":"ltr",bg:"Български",bh:"भोजपुरी",bi:"Bislama",bm:"Bamanankan",bn:"বাংলা",bo:"བོད་ཡིག",bpy:"ltr",br:"Brezhoneg",bs:"Bosanski",bug:"ᨅᨔ",bxr:"ltr",ca:"Català",cdo:"Chinese",ce:"Нохчийн",ceb:"Sinugboanong",ch:"Chamoru",cho:"Choctaw",chr:"ᏣᎳᎩ",chy:"Tsetsêhestâhese",co:"Corsu",cr:"Nehiyaw",cs:"Česky",csb:"Kaszëbsczi",cu:"Slavonic",cv:"Чăваш",cy:"Cymraeg",da:"Dansk",de:"Deutsch",diq:"Zazaki",dsb:"ltr",dv:"ދިވެހިބަސް",dz:"ཇོང་ཁ",ee:"Ɛʋɛ",far:"فارسی",el:"Ελληνικά",en:"English",eo:"Esperanto",es:"Español",et:"Eesti",eu:"Euskara",ext:"Estremeñu",ff:"Fulfulde",fi:"Suomi","fiu-vro":"Võro",fj:"Na",fo:"Føroyskt",fr:"Français",frp:"Arpitan",fur:"Furlan",fy:"ltr",ga:"Gaeilge",gan:"ltr",gd:"ltr",gil:"Taetae",gl:"Galego",gn:"Avañe'ẽ",got:"gutisk",gu:"ગુજરાતી",gv:"Gaelg",ha:"هَوُسَ",hak:"ltr",haw:"Hawai`i",he:"עברית",hi:"हिन्दी",ho:"ltr",hr:"Hrvatski",ht:"Krèyol",hu:"Magyar",hy:"Հայերեն",hz:"Otsiherero",ia:"Interlingua",id:"Bahasa",ie:"Interlingue",ig:"Igbo",ii:"ltr",ik:"Iñupiak",ilo:"Ilokano",io:"Ido",is:"Íslenska",it:"Italiano",iu:"ᐃᓄᒃᑎᑐᑦ",ja:"日本語",jbo:"Lojban",jv:"Basa",ka:"ქართული",kg:"KiKongo",ki:"Gĩkũyũ",kj:"Kuanyama",kk:"Қазақша",kl:"Kalaallisut",km:"ភាសាខ្មែរ",kn:"ಕನ್ನಡ",khw:"کھوار",ko:"한국어",kr:"Kanuri",ks:"कश्मीरी",ksh:"Ripoarisch",ku:"Kurdî",kv:"Коми",kw:"Kernewek",ky:"Kırgızca",la:"Latina",lad:"Dzhudezmo",lan:"Leb",lb:"Lëtzebuergesch",lg:"Luganda",li:"Limburgs",lij:"Líguru",lmo:"Lumbaart",ln:"Lingála",lo:"ລາວ",lt:"Lietuvių",lv:"Latviešu","map-bms":"Basa",mg:"Malagasy",man:"官話",mh:"Kajin",mi:"Māori",min:"Minangkabau",mk:"Македонски",ml:"മലയാളം",mn:"Монгол",mo:"Moldovenească",mr:"मराठी",ms:"Bahasa",mt:"bil-Malti",mus:"Muskogee",my:"Myanmasa",na:"Dorerin",nah:"Nahuatl",nap:"Nnapulitano",nd:"ltr",nds:"Plattdüütsch","nds-nl":"Saxon",ne:"नेपाली",new:"नेपालभाषा",ng:"Oshiwambo",nl:"Nederlands",nn:"ltr",no:"Norsk",nr:"ltr",nso:"ltr",nrm:"Nouormand",nv:"Diné",ny:"Chi-Chewa",oc:"Occitan",oj:"ᐊᓂᔑᓈᐯᒧᐎᓐ",om:"Oromoo",or:"ଓଡ଼ିଆ",os:"Иронау",pa:"ਪੰਜਾਬੀ",pag:"Pangasinan",pam:"Kapampangan",pap:"Papiamentu",pdc:"ltr",pi:"Pāli",pih:"Norfuk",pl:"Polski",pms:"Piemontèis",ps:"پښتو",pt:"Português",qu:"Runa",rm:"ltr",rmy:"Romani",rn:"Kirundi",ro:"Română","roa-rup":"Armâneashti",ru:"Русский",rw:"Kinyarwandi",sa:"संस्कृतम्",sc:"Sardu",scn:"Sicilianu",sco:"Scots",sd:"सिनधि",se:"ltr",sg:"Sängö",sh:"Srpskohrvatski",si:"සිංහල",simple:"ltr",sk:"Slovenčina",sl:"Slovenščina",sm:"Gagana",sn:"chiShona",so:"Soomaaliga",sq:"Shqip",sr:"Српски",ss:"SiSwati",st:"ltr",su:"Basa",sv:"Svenska",sw:"Kiswahili",ta:"தமிழ்",te:"తెలుగు",tet:"Tetun",tg:"Тоҷикӣ",th:"ไทย",ti:"ትግርኛ",tk:"Туркмен",tl:"Tagalog",tlh:"tlhIngan-Hol",tn:"Setswana",to:"Lea",tpi:"ltr",tr:"Türkçe",ts:"Xitsonga",tt:"Tatarça",tum:"chiTumbuka",tw:"Twi",ty:"Reo",udm:"Удмурт",ug:"Uyƣurqə",uk:"Українська",ur:"اردو",uz:"Ўзбек",ve:"Tshivenḓa",vi:"Việtnam",vec:"Vèneto",vls:"ltr",vo:"Volapük",wa:"Walon",war:"Winaray",wo:"Wollof",xal:"Хальмг",xh:"isiXhosa",yi:"ייִדיש",yo:"Yorùbá",za:"Cuengh",zh:"中文","zh-classical":"ltr","zh-min-nan":"Bân-lâm-gú","zh-yue":"粵語",zu:"isiZulu"};const q=".wikipedia.org/wiki/$1",L=".wikimedia.org/wiki/$1",T="www.";var A={acronym:T+"acronymfinder.com/$1.html",advisory:"advisory"+L,advogato:T+"advogato.org/$1",aew:"wiki.arabeyes.org/$1",appropedia:T+"appropedia.org/$1",aquariumwiki:T+"theaquariumwiki.com/$1",arborwiki:"localwiki.org/ann-arbor/$1",arxiv:"arxiv.org/abs/$1",atmwiki:T+"otterstedt.de/wiki/index.php/$1",baden:T+"stadtwiki-baden-baden.de/wiki/$1/",battlestarwiki:"en.battlestarwiki.org/wiki/$1",bcnbio:"historiapolitica.bcn.cl/resenas_parlamentarias/wiki/$1",beacha:T+"beachapedia.org/$1",betawiki:"translatewiki.net/wiki/$1",bibcode:"adsabs.harvard.edu/abs/$1",bibliowiki:"wikilivres.org/wiki/$1",bluwiki:"bluwiki.com/go/$1",blw:"britainloves"+q,botwiki:"botwiki.sno.cc/wiki/$1",boxrec:T+"boxrec.com/media/index.php?$1",brickwiki:T+"brickwiki.info/wiki/$1",bugzilla:"bugzilla.wikimedia.org/show_bug.cgi?id=$1",bulba:"bulbapedia.bulbagarden.net/wiki/$1",c:"commons"+L,c2:"c2.com/cgi/wiki?$1",c2find:"c2.com/cgi/wiki?FindPage&value=$1",cache:T+"google.com/search?q=cache:$1","ĉej":"esperanto.blahus.cz/cxej/vikio/index.php/$1",cellwiki:"cell.wikia.com/wiki/$1",centralwikia:"community.wikia.com/wiki/$1",chej:"esperanto.blahus.cz/cxej/vikio/index.php/$1",choralwiki:T+"cpdl.org/wiki/index.php/$1",citizendium:"en.citizendium.org/wiki/$1",ckwiss:T+"ck-wissen.de/ckwiki/index.php?title=$1",comixpedia:T+"comixpedia.org/index.php?title=$1",commons:"commons"+L,communityscheme:"community.schemewiki.org/?c=s&key=$1",communitywiki:"communitywiki.org/$1",comune:"rete.comuni-italiani.it/wiki/$1",creativecommons:"creativecommons.org/licenses/$1",creativecommonswiki:"wiki.creativecommons.org/$1",cxej:"esperanto.blahus.cz/cxej/vikio/index.php/$1",dcc:T+"dccwiki.com/$1",dcdatabase:"dc.wikia.com/$1",dcma:"christian-morgenstern.de/dcma/index.php?title=$1",debian:"wiki.debian.org/$1",delicious:T+"delicious.com/tag/$1",devmo:"developer.mozilla.org/en/docs/$1",dictionary:T+"dict.org/bin/Dict?Database=*&Form=Dict1&Strategy=*&Query=$1",dict:T+"dict.org/bin/Dict?Database=*&Form=Dict1&Strategy=*&Query=$1",disinfopedia:"sourcewatch.org/index.php/$1",distributedproofreaders:T+"pgdp.net/wiki/$1",distributedproofreadersca:T+"pgdpcanada.net/wiki/index.php/$1",dmoz:"curlie.org/$1",dmozs:"curlie.org/search?q=$1",doi:"doi.org/$1",donate:"donate"+L,doom_wiki:"doom.wikia.com/wiki/$1",download:"releases.wikimedia.org/$1",dbdump:"dumps.wikimedia.org/$1/latest/",dpd:"lema.rae.es/dpd/?key=$1",drae:"dle.rae.es/?w=$1",dreamhost:"wiki.dreamhost.com/index.php/$1",drumcorpswiki:T+"drumcorpswiki.com/index.php/$1",dwjwiki:T+"suberic.net/cgi-bin/dwj/wiki.cgi?$1","eĉei":T+"ikso.net/cgi-bin/wiki.pl?$1",ecoreality:T+"EcoReality.org/wiki/$1",ecxei:T+"ikso.net/cgi-bin/wiki.pl?$1",elibre:"enciclopedia.us.es/index.php/$1",emacswiki:T+"emacswiki.org/emacs?$1",encyc:"encyc.org/wiki/$1",energiewiki:T+"netzwerk-energieberater.de/wiki/index.php/$1",englyphwiki:"en.glyphwiki.org/wiki/$1",enkol:"enkol.pl/$1",eokulturcentro:"esperanto.toulouse.free.fr/nova/wikini/wakka.php?wiki=$1",esolang:"esolangs.org/wiki/$1",etherpad:"etherpad.wikimedia.org/$1",ethnologue:T+"ethnologue.com/language/$1",ethnologuefamily:T+"ethnologue.com/show_family.asp?subid=$1",evowiki:"wiki.cotch.net/index.php/$1",exotica:T+"exotica.org.uk/wiki/$1",fanimutationwiki:"wiki.animutationportal.com/index.php/$1",fedora:"fedoraproject.org/wiki/$1",finalfantasy:"finalfantasy.wikia.com/wiki/$1",finnix:T+"finnix.org/$1",flickruser:T+"flickr.com/people/$1",flickrphoto:T+"flickr.com/photo.gne?id=$1",floralwiki:T+"floralwiki.co.uk/wiki/$1",foldoc:"foldoc.org/$1",foundation:"foundation"+L,foundationsite:"wikimediafoundation.org/$1",foxwiki:"fox.wikis.com/wc.dll?Wiki~$1",freebio:"freebiology.org/wiki/$1",freebsdman:T+"FreeBSD.org/cgi/man.cgi?apropos=1&query=$1",freeculturewiki:"wiki.freeculture.org/index.php/$1",freedomdefined:"freedomdefined.org/$1",freefeel:"freefeel.org/wiki/$1",freekiwiki:"wiki.freegeek.org/index.php/$1",freesoft:"directory.fsf.org/wiki/$1",ganfyd:"ganfyd.org/index.php?title=$1",gardenology:T+"gardenology.org/wiki/$1",gausswiki:"gauss.ffii.org/$1",gentoo:"wiki.gentoo.org/wiki/$1",genwiki:"wiki.genealogy.net/index.php/$1",gerrit:"gerrit.wikimedia.org/r/$1",git:"gerrit.wikimedia.org/g/$1",google:T+"google.com/search?q=$1",googledefine:T+"google.com/search?q=define:$1",googlegroups:"groups.google.com/groups?q=$1",guildwarswiki:"wiki.guildwars.com/wiki/$1",guildwiki:"guildwars.wikia.com/wiki/$1",guc:"tools.wmflabs.org/guc/?user=$1",gucprefix:"tools.wmflabs.org/guc/?isPrefixPattern=1&src=rc&user=$1",gutenberg:T+"gutenberg.org/etext/$1",gutenbergwiki:T+"gutenberg.org/wiki/$1",hackerspaces:"hackerspaces.org/wiki/$1",h2wiki:"halowiki.net/p/$1",hammondwiki:T+"dairiki.org/HammondWiki/index.php3?$1",hdl:"hdl.handle.net/$1",heraldik:"heraldik-wiki.de/wiki/$1",heroeswiki:"heroeswiki.com/$1",horizonlabs:"horizon.wikimedia.org/$1",hrwiki:T+"hrwiki.org/index.php/$1",hrfwiki:"fanstuff.hrwiki.org/index.php/$1",hupwiki:"wiki.hup.hu/index.php/$1",iarchive:"archive.org/details/$1",imdbname:T+"imdb.com/name/nm$1/",imdbtitle:T+"imdb.com/title/tt$1/",imdbcompany:T+"imdb.com/company/co$1/",imdbcharacter:T+"imdb.com/character/ch$1/",incubator:"incubator"+L,infosecpedia:"infosecpedia.org/wiki/$1",infosphere:"theinfosphere.org/$1","iso639-3":"iso639-3.sil.org/code/$1",issn:T+"worldcat.org/issn/$1",iuridictum:"iuridictum.pecina.cz/w/$1",jaglyphwiki:"glyphwiki.org/wiki/$1",jefo:"esperanto-jeunes.org/wiki/$1",jerseydatabase:"jerseydatabase.com/wiki.php?id=$1",jira:"jira.toolserver.org/browse/$1",jspwiki:T+"ecyrd.com/JSPWiki/Wiki.jsp?page=$1",jstor:T+"jstor.org/journals/$1",kamelo:"kamelopedia.mormo.org/index.php/$1",karlsruhe:"ka.stadtwiki.net/$1",kinowiki:"kino.skripov.com/index.php/$1",komicawiki:"wiki.komica.org/?$1",kontuwiki:"kontu.wiki/$1",wikitech:"wikitech"+L,libreplanet:"libreplanet.org/wiki/$1",linguistlist:"linguistlist.org/forms/langs/LLDescription.cfm?code=$1",linuxwiki:T+"linuxwiki.de/$1",linuxwikide:T+"linuxwiki.de/$1",liswiki:"liswiki.org/wiki/$1",literateprograms:"en.literateprograms.org/$1",livepedia:T+"livepedia.gr/index.php?title=$1",localwiki:"localwiki.org/$1",lojban:"mw.lojban.org/papri/$1",lostpedia:"lostpedia.wikia.com/wiki/$1",lqwiki:"wiki.linuxquestions.org/wiki/$1",luxo:"tools.wmflabs.org/guc/?user=$1",mail:"lists.wikimedia.org/mailman/listinfo/$1",mailarchive:"lists.wikimedia.org/pipermail/$1",mariowiki:T+"mariowiki.com/$1",marveldatabase:T+"marveldatabase.com/wiki/index.php/$1",meatball:"meatballwiki.org/wiki/$1",mw:T+"mediawiki.org/wiki/$1",mediazilla:"bugzilla.wikimedia.org/$1",memoryalpha:"memory-alpha.fandom.com/wiki/$1",metawiki:"meta"+L,metawikimedia:"meta"+L,metawikipedia:"meta"+L,mineralienatlas:T+"mineralienatlas.de/lexikon/index.php/$1",moinmoin:"moinmo.in/$1",monstropedia:T+"monstropedia.org/?title=$1",mosapedia:"mosapedia.de/wiki/index.php/$1",mozcom:"mozilla.wikia.com/wiki/$1",mozillawiki:"wiki.mozilla.org/$1",mozillazinekb:"kb.mozillazine.org/$1",musicbrainz:"musicbrainz.org/doc/$1",mediawikiwiki:T+"mediawiki.org/wiki/$1",mwod:T+"merriam-webster.com/dictionary/$1",mwot:T+"merriam-webster.com/thesaurus/$1",nkcells:T+"nkcells.info/index.php?title=$1",nara:"catalog.archives.gov/id/$1",nosmoke:"no-smok.net/nsmk/$1",nost:"nostalgia."+q,nostalgia:"nostalgia."+q,oeis:"oeis.org/$1",oldwikisource:"wikisource.org/wiki/$1",olpc:"wiki.laptop.org/go/$1",omegawiki:T+"omegawiki.org/Expression:$1",onelook:T+"onelook.com/?ls=b&w=$1",openlibrary:"openlibrary.org/$1",openstreetmap:"wiki.openstreetmap.org/wiki/$1",openwetware:"openwetware.org/wiki/$1",opera7wiki:"operawiki.info/$1",organicdesign:T+"organicdesign.co.nz/$1",orthodoxwiki:"orthodoxwiki.org/$1",osmwiki:"wiki.openstreetmap.org/wiki/$1",otrs:"ticket.wikimedia.org/otrs/index.pl?Action=AgentTicketZoom&TicketID=$1",otrswiki:"otrs-wiki"+L,ourmedia:T+"socialtext.net/ourmedia/index.cgi?$1",outreach:"outreach"+L,outreachwiki:"outreach"+L,owasp:T+"owasp.org/index.php/$1",panawiki:"wiki.alairelibre.net/index.php?title=$1",patwiki:"gauss.ffii.org/$1",personaltelco:"personaltelco.net/wiki/$1",petscan:"petscan.wmflabs.org/?psid=$1",phab:"phabricator.wikimedia.org/$1",phabricator:"phabricator.wikimedia.org/$1",phwiki:T+"pocketheaven.com/ph/wiki/index.php?title=$1",phpwiki:"phpwiki.sourceforge.net/phpwiki/index.php?$1",planetmath:"planetmath.org/node/$1",pmeg:T+"bertilow.com/pmeg/$1",pmid:T+"ncbi.nlm.nih.gov/pubmed/$1?dopt=Abstract",pokewiki:"pokewiki.de/$1","pokéwiki":"pokewiki.de/$1",policy:"policy.wikimedia.org/$1",proofwiki:T+"proofwiki.org/wiki/$1",pyrev:T+"mediawiki.org/wiki/Special:Code/pywikipedia/$1",pythoninfo:"wiki.python.org/moin/$1",pythonwiki:T+"pythonwiki.de/$1",pywiki:"c2.com/cgi/wiki?$1",psycle:"psycle.sourceforge.net/wiki/$1",quality:"quality"+L,quarry:"quarry.wmflabs.org/$1",regiowiki:"regiowiki.at/wiki/$1",rev:T+"mediawiki.org/wiki/Special:Code/MediaWiki/$1",revo:"purl.org/NET/voko/revo/art/$1.html",rfc:"tools.ietf.org/html/rfc$1",rheinneckar:"rhein-neckar-wiki.de/$1",robowiki:"robowiki.net/?$1",rodovid:"en.rodovid.org/wk/$1",reuterswiki:"glossary.reuters.com/index.php/$1",rowiki:"wiki.rennkuckuck.de/index.php/$1",rt:"rt.wikimedia.org/Ticket/Display.html?id=$1",s23wiki:"s23.org/wiki/$1",scholar:"scholar.google.com/scholar?q=$1",schoolswp:"schools-"+q,scores:"imslp.org/wiki/$1",scoutwiki:"en.scoutwiki.org/$1",scramble:T+"scramble.nl/wiki/index.php?title=$1",seapig:T+"seapig.org/$1",seattlewiki:"seattle.wikia.com/wiki/$1",slwiki:"wiki.secondlife.com/wiki/$1","semantic-mw":T+"semantic-mediawiki.org/wiki/$1",senseislibrary:"senseis.xmp.net/?$1",sharemap:"sharemap.org/$1",silcode:T+"sil.org/iso639-3/documentation.asp?id=$1",slashdot:"slashdot.org/article.pl?sid=$1",sourceforge:"sourceforge.net/$1",spcom:"spcom"+L,species:"species"+L,squeak:"wiki.squeak.org/squeak/$1",stats:"stats.wikimedia.org/$1",stewardry:"tools.wmflabs.org/meta/stewardry/?wiki=$1",strategy:"strategy"+L,strategywiki:"strategywiki.org/wiki/$1",sulutil:"meta.wikimedia.org/wiki/Special:CentralAuth/$1",swtrain:"train.spottingworld.com/$1",svn:"svn.wikimedia.org/viewvc/mediawiki/$1?view=log",swinbrain:"swinbrain.ict.swin.edu.au/wiki/$1",tabwiki:T+"tabwiki.com/index.php/$1",tclerswiki:"wiki.tcl.tk/$1",technorati:T+"technorati.com/search/$1",tenwiki:"ten."+q,testwiki:"test."+q,testwikidata:"test.wikidata.org/wiki/$1",test2wiki:"test2."+q,tfwiki:"tfwiki.net/wiki/$1",thelemapedia:T+"thelemapedia.org/index.php/$1",theopedia:T+"theopedia.com/$1",thinkwiki:T+"thinkwiki.org/wiki/$1",ticket:"ticket.wikimedia.org/otrs/index.pl?Action=AgentTicketZoom&TicketNumber=$1",tmbw:"tmbw.net/wiki/$1",tmnet:T+"technomanifestos.net/?$1",tmwiki:T+"EasyTopicMaps.com/?page=$1",toolforge:"tools.wmflabs.org/$1",toollabs:"tools.wmflabs.org/$1",tools:"toolserver.org/$1",tswiki:T+"mediawiki.org/wiki/Toolserver:$1",translatewiki:"translatewiki.net/wiki/$1",tviv:"tviv.org/wiki/$1",tvtropes:T+"tvtropes.org/pmwiki/pmwiki.php/Main/$1",twiki:"twiki.org/cgi-bin/view/$1",tyvawiki:T+"tyvawiki.org/wiki/$1",umap:"umap.openstreetmap.fr/$1",uncyclopedia:"en.uncyclopedia.co/wiki/$1",unihan:T+"unicode.org/cgi-bin/GetUnihanData.pl?codepoint=$1",unreal:"wiki.beyondunreal.com/wiki/$1",urbandict:T+"urbandictionary.com/define.php?term=$1",usej:T+"tejo.org/usej/$1",usemod:T+"usemod.com/cgi-bin/wiki.pl?$1",usability:"usability"+L,utrs:"utrs.wmflabs.org/appeal.php?id=$1",vikidia:"fr.vikidia.org/wiki/$1",vlos:"tusach.thuvienkhoahoc.com/wiki/$1",vkol:"kol.coldfront.net/thekolwiki/index.php/$1",voipinfo:T+"voip-info.org/wiki/view/$1",votewiki:"vote"+L,werelate:T+"werelate.org/wiki/$1",wg:"wg-en."+q,wikia:T+"wikia.com/wiki/w:c:$1",wikiasite:T+"wikia.com/wiki/w:c:$1",wikiapiary:"wikiapiary.com/wiki/$1",wikibooks:"en.wikibooks.org/wiki/$1",wikichristian:T+"wikichristian.org/index.php?title=$1",wikicities:T+"wikia.com/wiki/w:$1",wikicity:T+"wikia.com/wiki/w:c:$1",wikiconference:"wikiconference.org/wiki/$1",wikidata:T+"wikidata.org/wiki/$1",wikif1:T+"wikif1.org/$1",wikifur:"en.wikifur.com/wiki/$1",wikihow:T+"wikihow.com/$1",wikiindex:"wikiindex.org/$1",wikilemon:"wiki.illemonati.com/$1",wikilivres:"wikilivres.org/wiki/$1",wikilivresru:"wikilivres.ru/$1","wikimac-de":"apfelwiki.de/wiki/Main/$1",wikimedia:"foundation"+L,wikinews:"en.wikinews.org/wiki/$1",wikinfo:"wikinfo.org/w/index.php/$1",wikinvest:"meta.wikimedia.org/wiki/Interwiki_map/discontinued#Wikinvest",wikiotics:"wikiotics.org/$1",wikipapers:"wikipapers.referata.com/wiki/$1",wikipedia:"en."+q,wikipediawikipedia:"en.wikipedia.org/wiki/Wikipedia:$1",wikiquote:"en.wikiquote.org/wiki/$1",wikisophia:"wikisophia.org/index.php?title=$1",wikisource:"en.wikisource.org/wiki/$1",wikispecies:"species"+L,wikispot:"wikispot.org/?action=gotowikipage&v=$1",wikiskripta:T+"wikiskripta.eu/index.php/$1",labsconsole:"wikitech"+L,wikiti:"wikiti.denglend.net/index.php?title=$1",wikiversity:"en.wikiversity.org/wiki/$1",wikivoyage:"en.wikivoyage.org/wiki/$1",betawikiversity:"beta.wikiversity.org/wiki/$1",wikiwikiweb:"c2.com/cgi/wiki?$1",wiktionary:"en.wiktionary.org/wiki/$1",wipipedia:"wipipedia.org/index.php/$1",wlug:T+"wlug.org.nz/$1",wmam:"am"+L,wmar:T+"wikimedia.org.ar/wiki/$1",wmat:"mitglieder.wikimedia.at/$1",wmau:"wikimedia.org.au/wiki/$1",wmbd:"bd"+L,wmbe:"be"+L,wmbr:"br"+L,wmca:"ca"+L,wmch:T+"wikimedia.ch/$1",wmcl:T+"wikimediachile.cl/index.php?title=$1",wmcn:"cn"+L,wmco:"co"+L,wmcz:T+"wikimedia.cz/web/$1",wmdc:"wikimediadc.org/wiki/$1",securewikidc:"secure.wikidc.org/$1",wmde:"wikimedia.de/wiki/$1",wmdk:"dk"+L,wmee:"ee"+L,wmec:"ec"+L,wmes:T+"wikimedia.es/wiki/$1",wmet:"ee"+L,wmfdashboard:"outreachdashboard.wmflabs.org/$1",wmfi:"fi"+L,wmfr:"wikimedia.fr/$1",wmge:"ge"+L,wmhi:"hi"+L,wmhk:"meta.wikimedia.org/wiki/Wikimedia_Hong_Kong",wmhu:"wikimedia.hu/wiki/$1",wmid:"id"+L,wmil:T+"wikimedia.org.il/$1",wmin:"wiki.wikimedia.in/$1",wmit:"wiki.wikimedia.it/wiki/$1",wmke:"meta.wikimedia.org/wiki/Wikimedia_Kenya",wmmk:"mk"+L,wmmx:"mx"+L,wmnl:"nl"+L,wmnyc:"nyc"+L,wmno:"no"+L,"wmpa-us":"pa-us"+L,wmph:"meta.wikimedia.org/wiki/Wikimedia_Philippines",wmpl:"pl"+L,wmpt:"pt"+L,wmpunjabi:"punjabi"+L,wmromd:"romd"+L,wmrs:"rs"+L,wmru:"ru"+L,wmse:"se"+L,wmsk:"wikimedia.sk/$1",wmtr:"tr"+L,wmtw:"wikimedia.tw/wiki/index.php5/$1",wmua:"ua"+L,wmuk:"wikimedia.org.uk/wiki/$1",wmve:"wikimedia.org.ve/wiki/$1",wmza:"wikimedia.org.za/wiki/$1",wm2005:"wikimania2005"+L,wm2006:"wikimania2006"+L,wm2007:"wikimania2007"+L,wm2008:"wikimania2008"+L,wm2009:"wikimania2009"+L,wm2010:"wikimania2010"+L,wm2011:"wikimania2011"+L,wm2012:"wikimania2012"+L,wm2013:"wikimania2013"+L,wm2014:"wikimania2014"+L,wm2015:"wikimania2015"+L,wm2016:"wikimania2016"+L,wm2017:"wikimania2017"+L,wm2018:"wikimania2018"+L,wmania:"wikimania"+L,wikimania:"wikimania"+L,wmteam:"wikimaniateam"+L,wmf:"foundation"+L,wmfblog:"blog.wikimedia.org/$1",wmdeblog:"blog.wikimedia.de/$1",wookieepedia:"starwars.wikia.com/wiki/$1",wowwiki:T+"wowwiki.com/$1",wqy:"wqy.sourceforge.net/cgi-bin/index.cgi?$1",wurmpedia:"wurmpedia.com/index.php/$1",viaf:"viaf.org/viaf/$1",zrhwiki:T+"zrhwiki.ch/wiki/$1",zum:"wiki.zum.de/$1",zwiki:T+"zwiki.org/$1",m:"meta"+L,meta:"meta"+L,sep11:"sep11."+q,d:T+"wikidata.org/wiki/$1",minnan:"zh-min-nan."+q,nb:"no."+q,"zh-cfr":"zh-min-nan."+q,"zh-cn":"zh."+q,"zh-tw":"zh."+q,nan:"zh-min-nan."+q,vro:"fiu-vro."+q,cmn:"zh."+q,lzh:"zh-classical."+q,rup:"roa-rup."+q,gsw:"als."+q,"be-tarask":"be-x-old."+q,sgs:"bat-smg."+q,egl:"eml."+q,w:"en."+q,wikt:"en.wiktionary.org/wiki/$1",q:"en.wikiquote.org/wiki/$1",b:"en.wikibooks.org/wiki/$1",n:"en.wikinews.org/wiki/$1",s:"en.wikisource.org/wiki/$1",chapter:"en"+L,v:"en.wikiversity.org/wiki/$1",voy:"en.wikivoyage.org/wiki/$1"};const P=N,D=A;Object.keys(P).forEach((e=>{D[e]=e+".wikipedia.org/wiki/$1"}));const I=function(e){let t=e.page||"";if(-1!==t.indexOf(":")){let i=t.match(/^(.*):(.*)/);if(null===i)return e;let a=i[1]||"";if(a=a.toLowerCase(),-1!==a.indexOf(":")){let[,t,i]=a.match(/^:?(.*):(.*)/);if(!1===D.hasOwnProperty(t)||!1===P.hasOwnProperty(i))return e;e.wiki={wiki:t,lang:i}}else{if(!1===D.hasOwnProperty(a))return e;e.wiki=a}e.page=i[2]}return e},M=/^:?(category|catégorie|kategorie|categoría|categoria|categorie|kategoria|تصنيف|image|file|fichier|datei|media):/i,R=/\[(https?|news|ftp|mailto|gopher|irc)(:\/\/[^\]| ]{4,1500})([| ].*?)?\]/g,U=/\[\[(.{0,160}?)\]\]([a-z]+)?/gi;var B=function(e){let t=[];if(t=function(e,t){return t.replace(R,(function(t,i,a,n){return n=n||"",e.push({type:"external",site:i+a,text:n.trim(),raw:t}),n})),e}(t,e),t=function(e,t){return t.replace(U,(function(t,i,a){let n=null,r=i;if(i.match(/\|/)&&(r=(i=i.replace(/\[\[(.{2,100}?)\]\](\w{0,10})/g,"$1$2")).replace(/(.{2,100})\|.{0,200}/,"$1"),n=i.replace(/.{2,100}?\|/,""),null===n&&r.match(/\|$/)&&(r=r.replace(/\|$/,""),n=r)),r.match(M))return i;let o={page:r,raw:t};return o.page=o.page.replace(/#(.*)/,((e,t)=>(o.anchor=t,""))),o=I(o),o.wiki&&(o.type="interwiki"),null!==n&&n!==o.page&&(o.text=n),a&&(o.text=o.text||o.page,o.text+=a.trim()),o.page&&!1===/^[A-Z]/.test(o.page)&&(o.text||(o.text=o.page),o.page=o.page),e.push(o),i})),e}(t,e),0!==t.length)return t};const F=B,K=new RegExp("^[ \n\t]*?#("+b.redirects.join("|")+") *?(\\[\\[.{2,180}?\\]\\])","i");var W={isRedirect:function(e){return!(!e||e.length>500)&&K.test(e)},parse:function(e){let t=e.match(K);if(t&&t[2]){return(F(t[2])||[])[0]}return{}}};const Z=["table","code","score","data","categorytree","charinsert","hiero","imagemap","inputbox","nowiki","references","source","syntaxhighlight","timeline"],H="< ?(".concat(Z.join("|"),") ?[^>]{0,200}?>"),Y="< ?/ ?(".concat(Z.join("|"),") ?>"),G=new RegExp("".concat(H,"[").concat("\\s\\S","]+?").concat(Y),"gi");const V=function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(G," ")).replace(/ ?< ?(span|div|table|data) [a-zA-Z0-9=%.\-#:;'" ]{2,100}\/? ?> ?/g," ")).replace(/ ?< ?(ref) [a-zA-Z0-9=" ]{2,100}\/ ?> ?/g," ")).replace(/<i>(.*?)<\/i>/g,"''$1''")).replace(/<b>(.*?)<\/b>/g,"'''$1'''")).replace(/<sub>(.*?)<\/sub>/g,"{{sub|$1}}")).replace(/<sup>(.*?)<\/sup>/g,"{{sup|$1}}")).replace(/ ?<[ /]?(p|sub|sup|span|nowiki|div|table|br|tr|td|th|pre|pre2|hr|u)[ /]?> ?/g," ")).replace(/ ?<[ /]?(abbr|bdi|bdo|blockquote|cite|del|dfn|em|ins|kbd|mark|q|s|small)[ /]?> ?/g," ")).replace(/ ?<[ /]?h[0-9][ /]?> ?/g," ")).replace(/ ?< ?br ?\/> ?/g,"\n")).trim()};var J=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<!--[\s\S]{0,2000}?-->/g,"")).replace(/__(NOTOC|NOEDITSECTION|FORCETOC|TOC)__/gi,"")).replace(/~{2,3}/g,"")).replace(/\r/g,"")).replace(/\u3002/g,". ")).replace(/----/g,"")).replace(/\{\{\}\}/g," – ")).replace(/\{\{\\\}\}/g," / ")).replace(/&nbsp;/g," "),e=(e=(e=V(e)).replace(/\([,;: ]+\)/g,"")).replace(/\{\{(baseball|basketball) (primary|secondary) (style|color).*?\}\}/i,"")};const X=/[\\.$]/,Q=function(e){return"string"!=typeof e&&(e=""),e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/^\$/,"\\u0024")).replace(/\./g,"\\u002e")};var ee={encodeObj:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);for(let i=0;i<t.length;i+=1)if(!0===X.test(t[i])){let a=Q(t[i]);a!==t[i]&&(e[a]=e[t[i]],delete e[t[i]])}return e}};const te=d,ie=ee,ae={headers:!0,depth:!0,paragraphs:!0,images:!0,tables:!0,templates:!0,infoboxes:!0,lists:!0,references:!0};var ne=function(e,t){let i={};if(!0===(t=te(t,ae)).headers&&(i.title=e.title()),!0===t.depth&&(i.depth=e.depth()),!0===t.paragraphs){let a=e.paragraphs().map((e=>e.json(t)));a.length>0&&(i.paragraphs=a)}if(!0===t.images){let a=e.images().map((e=>e.json(t)));a.length>0&&(i.images=a)}if(!0===t.tables){let a=e.tables().map((e=>e.json(t)));a.length>0&&(i.tables=a)}if(!0===t.templates){let a=e.templates().map((e=>e.json()));a.length>0&&(i.templates=a,!0===t.encode&&i.templates.forEach((e=>ie.encodeObj(e))))}if(!0===t.infoboxes){let a=e.infoboxes().map((e=>e.json(t)));a.length>0&&(i.infoboxes=a)}if(!0===t.lists){let a=e.lists().map((e=>e.json(t)));a.length>0&&(i.lists=a)}if(!0===t.references||!0===t.citations){let a=e.references().map((e=>e.json(t)));a.length>0&&(i.references=a)}return!0===t.sentences&&(i.sentences=e.sentences().map((e=>e.json(t)))),i};const re=A,oe={type:"internal"},se=function(e){e=e||{},e=Object.assign({},oe,e),Object.defineProperty(this,"data",{enumerable:!1,value:e})},le={text:function(e){void 0!==e&&(this.data.text=e);let t=this.data.text||this.data.page||"";return t=t.replace(/'{2,}/g,""),t},json:function(){let e={text:this.data.text,type:this.type()};"internal"===e.type?e.page=this.page():"interwiki"===e.type?e.wiki=this.wiki():e.site=this.site();let t=this.anchor();return t&&(e.anchor=t),e},wikitext:function(){return this.data.raw||""},page:function(e){return void 0!==e&&(this.data.page=e),this.data.page},anchor:function(e){return void 0!==e&&(this.data.anchor=e),this.data.anchor||""},wiki:function(e){return void 0!==e&&(this.data.wiki=e),this.data.wiki},type:function(e){return void 0!==e&&(this.data.type=e),this.data.type},site:function(e){return void 0!==e&&(this.data.site=e),this.data.site},href:function(){let e=this.type();if("external"===e)return this.site();let t=this.page();t=t.replace(/ /g,"_"),t=encodeURIComponent(t);let i="";if("interwiki"===e){let e=this.wiki();i="https://en.wikipedia.org/wiki/$1",re.hasOwnProperty(e)&&(i="http://"+re[this.wiki()]),i=i.replace(/\$1/g,t)}else i="./".concat(this.page());return this.anchor()&&(i+="#"+this.anchor()),i}};Object.keys(le).forEach((e=>{se.prototype[e]=le[e]}));var ce=se;const ue=ce,me=B;var pe=function(e){let t=e.text,i=me(t)||[];e.links=i.map((e=>(t=t.replace(e.raw,e.text||e.page||""),new ue(e)))),t=t.replace(/\[\[File:(.{2,80}?)\|([^\]]+)\]\](\w{0,5})/g,"$1"),e.text=t};var de=function(e){let t=[],i=[],a=e.text||"";return a=a.replace(/'''''(.{0,2500}?)'''''/g,((e,a)=>(t.push(a),i.push(a),a))),a=a.replace(/''''(.{0,2500}?)''''/g,((e,i)=>(t.push("'".concat(i,"'")),"'".concat(i,"'")))),a=a.replace(/'''(.{0,2500}?)'''/g,((e,i)=>(t.push(i),i))),a=a.replace(/''(.{0,2500}?)''/g,((e,t)=>(i.push(t),t))),e.text=a,t.length>0&&(e.fmt=e.fmt||{},e.fmt.bold=t),i.length>0&&(e.fmt=e.fmt||{},e.fmt.italic=i),e};const ge=d,he=/^[0-9,.]+$/,fe={text:!0,links:!0,formatting:!0,numbers:!0};const be=function(e,t){t=ge(t,fe);let i={},a=e.text();if(!0===t.text&&(i.text=a),!0===t.numbers&&he.test(a)){let e=Number(a.replace(/,/g,""));!1===isNaN(e)&&(i.number=e)}return t.links&&e.links().length>0&&(i.links=e.links().map((e=>e.json()))),t.formatting&&e.data.fmt&&(i.formatting=e.data.fmt),i},ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.defineProperty(this,"data",{enumerable:!1,value:e})},we={links:function(e){let t=this.data.links||[];if("string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page===e));return void 0===i?[]:[i]}return t},interwiki:function(){return this.links().filter((e=>void 0!==e.wiki))},bolds:function(){return this.data&&this.data.fmt&&this.data.fmt.bold&&this.data.fmt.bold||[]},italics:function(){return this.data&&this.data.fmt&&this.data.fmt.italic&&this.data.fmt.italic||[]},text:function(e){return void 0!==e&&"string"==typeof e&&(this.data.text=e),this.data.text||""},json:function(e){return be(this,e)},wikitext:function(){return this.data.wiki||""},isEmpty:function(){return""===this.data.text}};Object.keys(we).forEach((e=>{ke.prototype[e]=we[e]}));const ye={links:"link",bolds:"bold",italics:"italic"};Object.keys(ye).forEach((e=>{ke.prototype[ye[e]]=function(t){let i=this[e](t);return"number"==typeof t?i[t]:i[0]}})),ke.prototype.plaintext=ke.prototype.text;var xe=ke;const ve=["ad","adj","adm","adv","al","alta","approx","apr","apt","arc","ariz","assn","asst","atty","aug","ave","ba","bc","bl","bldg","blvd","brig","bros","ca","cal","calif","capt","cca","cg","cl","cm","cmdr","co","col","colo","comdr","conn","corp","cpl","cres","ct","cyn","dak","dec","def","dept","det","dg","dist","dl","dm","dr","ea","eg","eng","esp","esq","est","etc","ex","exp","feb","fem","fig","fl oz","fl","fla","fm","fr","ft","fy","ga","gal","gb","gen","gov","hg","hon","hr","hrs","hwy","hz","ia","ida","ie","inc","inf","jan","jd","jr","jul","jun","kan","kans","kb","kg","km","kmph","lat","lb","lit","llb","lm","lng","lt","ltd","lx","ma","maj","mar","masc","mb","md","messrs","mg","mi","min","minn","misc","mister","ml","mlle","mm","mme","mph","mps","mr","mrs","ms","mstr","mt","neb","nebr","nee","no","nov","oct","okla","ont","op","ord","oz","pa","pd","penn","penna","phd","pl","pp","pref","prob","prof","pron","ps","psa","pseud","pt","pvt","qt","que","rb","rd","rep","reps","res","rev","sask","sec","sen","sens","sep","sept","sfc","sgt","sir","situ","sq ft","sq","sr","ss","st","supt","surg","tb","tbl","tbsp","tce","td","tel","temp","tenn","tex","tsp","univ","usafa","ut","va","vb","ver","vet","vitro","vivo","vol","vs","vt","wis","wisc","wr","wy","wyo","yb","µg"].concat("[^]][^]]"),$e=new RegExp("(^| |')("+ve.join("|")+")[.!?] ?$","i"),je=/[ .'][A-Z].? *$/i,_e=/\.{3,} +$/,ze=/ c\.\s$/,Oe=/\p{Letter}/iu;var Ee=function(e){let t=[],i=[];if(!e||"string"!=typeof e||0===e.trim().length)return t;let a=function(e){let t=e.split(/(\n+)/);return t=t.filter((e=>e.match(/\S/))),t=t.map((function(e){return e.split(/(\S.+?[.!?]"?)(?=\s|$)/g)})),function(e){let t=[];return e.forEach((function(e){t=t.concat(e)})),t}(t)}(e);for(let e=0;e<a.length;e++){let t=a[e];if(t&&""!==t){if(!t.match(/\S/)){if(i[i.length-1]){i[i.length-1]+=t;continue}if(a[e+1]){a[e+1]=t+a[e+1];continue}}i.push(t)}}for(let e=0;e<i.length;e++)i[e+1]&&((n=i[e]).match($e)||n.match(je)||n.match(_e)||n.match(ze)||!1===Oe.test(n)||!function(e){const t=(e=e||"").split(/\[\[/)||[],i=e.split(/\]\]/)||[];if(t.length>i.length)return!1;const a=e.match(/"/g);return!(a&&a.length%2!=0&&e.length<900)}(n))?i[e+1]=i[e]+(i[e+1]||""):i[e]&&i[e].length>0&&(t.push(i[e]),i[e]="");var n;return 0===t.length?[e]:t};const Se=n,Ce=pe,Ne=de,qe=xe,Le=Ee;function Te(e){let t={wiki:e,text:e};var i;return Ce(t),t.text=(i=(i=(i=t.text).replace(/\([,;: ]*\)/g,"")).replace(/\( *(; ?)+/g,"("),(i=Se.trim_whitespace(i)).replace(/ +\.$/,".")),t=Ne(t),new qe(t)}var Ae=Te,Pe=function(e){let t=Le(e.wiki);t=t.map(Te),t[0]&&t[0].text()&&":"===t[0].text()[0]&&(t=t.slice(1)),e.sentences=t};var De=function(e){return e=(e=e.replace(/^\{\{/,"")).replace(/\}\}$/,"")};var Ie=function(e){return e=(e=(e=(e||"").trim()).toLowerCase()).replace(/_/g," ")};const Me=/^[\p{Letter}0-9._\- '()]+=/iu,Re={template:!0,list:!0,prototype:!0},Ue=function(e){let t=e.split("="),i=t[0]||"";i=i.toLowerCase().trim();let a=t.slice(1).join("=");return Re.hasOwnProperty(i)&&(i="_"+i),{key:i,val:a.trim()}};var Be=function(e,t){let i=0;return e.reduce((function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(a=a.trim(),!0===Me.test(a)){let t=Ue(a);if(t.key)return e[t.key]=t.val,e}if(t&&t[i]){e[t[i]]=a}else e.list=e.list||[],e.list.push(a);return i+=1,e}),{})};const Fe={classname:!0,style:!0,align:!0,margin:!0,left:!0,break:!0,boxsize:!0,framestyle:!0,item_style:!0,collapsible:!0,list_style_type:!0,"list-style-type":!0,colwidth:!0};const Ke=De,We=Ie,Ze=Ae,He=function(e){let t=e.split(/\n?\|/);t.forEach(((e,i)=>{null!==e&&(/\[\[[^\]]+$/.test(e)||/\{\{[^}]+$/.test(e)||e.split("{{").length!==e.split("}}").length||e.split("[[").length!==e.split("]]").length)&&(t[i+1]=t[i]+"|"+t[i+1],t[i]=null)})),t=t.filter((e=>null!==e)),t=t.map((e=>(e||"").trim()));for(let e=t.length-1;e>=0;e-=1){""===t[e]&&t.pop();break}return t},Ye=Be,Ge=function(e){return Object.keys(e).forEach((t=>{!0===Fe[t.toLowerCase()]&&delete e[t],null!==e[t]&&""!==e[t]||delete e[t]})),e},Ve=function(e,t){let i=Ze(e);return"json"===t?i.json():"raw"===t?i:i.text()};var Je=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;e=Ke(e||"");let a=He(e),n=a.shift(),r=Ye(a,t);return r=Ge(r),r[1]&&t[0]&&!1===r.hasOwnProperty(t[0])&&(r[t[0]]=r[1],delete r[1]),Object.keys(r).forEach((e=>{r[e]="list"!==e?Ve(r[e],i):r[e].map((e=>Ve(e,i)))})),n&&(r.template=We(n)),r};const Xe=ee,Qe=function(e,t){Object.defineProperty(this,"data",{enumerable:!1,value:e}),Object.defineProperty(this,"wiki",{enumerable:!1,value:t})},et={title:function(){let e=this.data;return e.title||e.encyclopedia||e.author||""},links:function(e){let t=[];if("number"==typeof e)return t[e];if("number"==typeof e)return t[e];if("string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t||[]},text:function(){return""},wikitext:function(){return this.wiki||""},json:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.data||{};return!0===e.encode&&(t=Object.assign({},t),t=Xe.encodeObj(t)),t}};Object.keys(et).forEach((e=>{Qe.prototype[e]=et[e]}));var tt=Qe;const it=Je,at=Ae,nt=tt,rt=function(e){return/^ *\{\{ *(cite|citation)/i.test(e)&&/\}\} *$/.test(e)&&!1===/citation needed/i.test(e)},ot=function(e){let t=it(e);return t.type=t.template.replace(/cite /,""),t.template="citation",t},st=function(e){return{template:"citation",type:"inline",data:{},inline:at(e)||{}}};var lt=function(e){let t=[],i=e._wiki;i=i.replace(/ ?<ref>([\s\S]{0,1800}?)<\/ref> ?/gi,(function(e,a){if(rt(a)){let n=ot(a);n&&t.push({json:n,wiki:e}),i=i.replace(a,"")}else t.push({json:st(a),wiki:e});return" "})),i=i.replace(/ ?<ref [^>]{0,200}?\/> ?/gi," "),i=i.replace(/ ?<ref [^>]{0,200}>([\s\S]{0,1800}?)<\/ref> ?/gi,(function(e,a){if(rt(a)){let e=ot(a);e&&t.push({json:e,wiki:a}),i=i.replace(a,"")}else t.push({json:st(a),wiki:e});return" "})),i=i.replace(/ ?<[ /]?[a-z0-9]{1,8}[a-z0-9=" ]{2,20}[ /]?> ?/g," "),e._references=t.map((e=>new nt(e.json,e.wiki))),e._wiki=i};const ct="{";var ut=function(e){let t=0,i=[],a=[];for(let n=e.indexOf(ct);-1!==n&&n<e.length;t>0?n++:n=e.indexOf(ct,n+1)){let r=e[n];if(r===ct&&(t+=1),t>0){if("}"===r&&(t-=1,0===t)){a.push(r);let e=a.join("");a=[],/\{\{/.test(e)&&/\}\}/.test(e)&&i.push(e);continue}if(1===t&&r!==ct&&"}"!==r){t=0,a=[];continue}a.push(r)}}return i};const mt=Ie;const pt=ut,dt=function(e){let t=null;return t=/^\{\{[^\n]+\|/.test(e)?(e.match(/^\{\{(.+?)\|/)||[])[1]:-1!==e.indexOf("\n")?(e.match(/^\{\{(.+)\n/)||[])[1]:(e.match(/^\{\{(.+?)\}\}$/)||[])[1],t&&(t=t.replace(/:.*/,""),t=mt(t)),t||null},gt=/\{\{/,ht=function(e){return{body:e=e.replace(/#invoke:/,""),name:dt(e),children:[]}},ft=function(e){let t=e.body.substr(2);return t=t.replace(/\}\}$/,""),e.children=pt(t),e.children=e.children.map(ht),0===e.children.length||e.children.forEach((e=>{let t=e.body.substr(2);return gt.test(t)?ft(e):null})),e};var bt=function(e){let t=pt(e);return t=t.map(ht),t=t.map(ft),t};var kt=["anchor","defaultsort","use list-defined references","void","pp","pp-move-indef","pp-semi-indef","pp-vandalism","r","#tag","div col","pope list end","shipwreck list end","starbox end","end box","end","s-end"].reduce(((e,t)=>(e[t]=!0,e)),{}),wt={"gnf protein box":!0,"automatic taxobox":!0,"chembox ":!0,editnotice:!0,geobox:!0,hybridbox:!0,ichnobox:!0,infraspeciesbox:!0,mycomorphbox:!0,oobox:!0,"paraphyletic group":!0,speciesbox:!0,subspeciesbox:!0,"starbox short":!0,taxobox:!0,nhlteamseason:!0,"asian games bid":!0,"canadian federal election results":!0,"dc thomson comic strip":!0,"daytona 24 races":!0,edencharacter:!0,"moldova national football team results":!0,samurai:!0,protein:!0,"sheet authority":!0,"order-of-approx":!0,"bacterial labs":!0,"medical resources":!0,ordination:!0,"hockey team coach":!0,"hockey team gm":!0,"pro hockey team":!0,"hockey team player":!0,"hockey team start":!0,mlbbioret:!0};const yt=wt,xt=new RegExp("^(subst.)?("+b.infoboxes.join("|")+")[: \n]","i"),vt=/^infobox /i,$t=/ infobox$/i,jt=/^year in [A-Z]/i;var _t={isInfobox:function(e){return!0===yt.hasOwnProperty(e)||(!!xt.test(e)||(!(!vt.test(e)&&!$t.test(e))||!!jt.test(e)))},format:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.template.match(xt),i=e.template;t&&t[0]&&(i=i.replace(t[0],"")),i=i.trim();let a={template:"infobox",type:i,data:e};return delete a.data.template,delete a.data.list,a}};const zt=N;let Ot={imdb:"imdb name","imdb episodess":"imdb episode",localday:"currentday",localdayname:"currentdayname",localyear:"currentyear","birth date based on age at death":"birth based on age as of date","bare anchored list":"anchored list",cvt:"convert",cricon:"flagicon",sfrac:"frac",sqrt:"radic","unreferenced section":"unreferenced",redir:"redirect",sisterlinks:"sister project links","main article":"main"},Et={date:["byline","dateline"],citation:["cite","source","source-pr","source-science"],flagcountry:["cr","cr-rt"],trunc:["str left","str crop"],percentage:["pct","percentage"],rnd:["rndfrac","rndnear"],abbr:["tooltip","abbrv","define"],sfn:["sfnref","harvid","harvnb"],"birth date and age":["death date and age","bda"],currentmonth:["localmonth","currentmonthname","currentmonthabbrev"],currency:["monnaie","unité","nombre","nb","iso4217"],coord:["coor","coor title dms","coor title dec","coor dms","coor dm","coor dec"],"columns-list":["cmn","col-list","columnslist","collist"],nihongo:["nihongo2","nihongo3","nihongo-s","nihongo foot"],plainlist:["flatlist","plain list"],"winning percentage":["winpct","winperc"],"collapsible list":["nblist","nonbulleted list","ubl","ublist","ubt","unbullet","unbulleted list","unbulleted","unbulletedlist","vunblist"],"election box begin":["election box begin no change","election box begin no party","election box begin no party no change","election box inline begin","election box inline begin no change"],"election box candidate":["election box candidate for alliance","election box candidate minor party","election box candidate no party link no change","election box candidate with party link","election box candidate with party link coalition 1918","election box candidate with party link no change","election box inline candidate","election box inline candidate no change","election box inline candidate with party link","election box inline candidate with party link no change","election box inline incumbent"],"4teambracket":["2teambracket","4team2elimbracket","8teambracket","16teambracket","32teambracket","4roundbracket-byes","cwsbracket","nhlbracket","nhlbracket-reseed","4teambracket-nhl","4teambracket-ncaa","4teambracket-mma","4teambracket-mlb","16teambracket-two-reseeds","8teambracket-nhl","8teambracket-mlb","8teambracket-ncaa","8teambracket-afc","8teambracket-afl","8teambracket-tennis3","8teambracket-tennis5","16teambracket-nhl","16teambracket-nhl divisional","16teambracket-nhl-reseed","16teambracket-nba","16teambracket-swtc","16teambracket-afc","16teambracket-tennis3","16teambracket-tennis5"],start:["end","birth","death","start date","end date","birth date","death date","start date and age","end date and age","dob"],"start-date":["end-date","birth-date","death-date","birth-date and age","birth-date and given age","death-date and age","death-date and given age"],tl:["lts","t","tfd links","tiw","tltt","tetl","tsetl","ti","tic","tiw","tlt","ttl","twlh","tl2","tlu","demo","hatnote","xpd","para","elc","xtag","mli","mlix","#invoke","url"]};Object.keys(zt).forEach((e=>{Ot["ipa-"+e]="ipa",Ot["ipac-"+e]="ipac"})),Object.keys(Et).forEach((e=>{Et[e].forEach((t=>{Ot[t]=e}))}));var St=Ot;const Ct=N;let Nt={p1:0,p2:1,p3:2,resize:1,lang:1,"rtl-lang":1,l:2,h:1,sort:1};["defn","lino","finedetail","nobold","noitalic","nocaps","vanchor","rnd","date","taste","monthname","baseball secondary style","lang-de","nowrap","nobr","big","cquote","pull quote","small","smaller","midsize","larger","big","kbd","bigger","large","mono","strongbad","stronggood","huge","xt","xt2","!xt","xtn","xtd","dc","dcr","mxt","!mxt","mxtn","mxtd","bxt","!bxt","bxtn","bxtd","delink","pre","var","mvar","pre2","code"].forEach((e=>{Nt[e]=0})),Object.keys(Ct).forEach((e=>{Nt["lang-"+e]=0}));var qt=Nt;const Lt=N;var Tt={titlecase:e=>e.charAt(0).toUpperCase()+e.substring(1),sisterProjects:{wikt:"wiktionary",commons:"commons",c:"commons",commonscat:"commonscat",n:"wikinews",q:"wikiquote",s:"wikisource",a:"wikiauthor",b:"wikibooks",voy:"wikivoyage",v:"wikiversity",d:"wikidata",species:"wikispecies",m:"meta",mw:"mediawiki"},getLang:function(e){let t=e.match(/ipac?-(.+)/);return null!==t?!0===Lt.hasOwnProperty(t[1])?Lt[t[1]].english_title:t[1]:null},percentage:function(e){if(!e.numerator&&!e.denominator)return null;let t=Number(e.numerator)/Number(e.denominator);t*=100;let i=Number(e.decimals);return isNaN(i)&&(i=1),t=t.toFixed(i),Number(t)},toNumber:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("number"==typeof e)return e;e=e.replace(/,/g,""),e=e.replace(/−/g,"-");let t=Number(e);return isNaN(t)?e:t}};const At=Je,Pt=De,Dt=Tt;var It={ra:e=>{let t=At(e,["hours","minutes","seconds"]);return[t.hours||0,t.minutes||0,t.seconds||0].join(":")},deg2hms:e=>(At(e,["degrees"]).degrees||"")+"°",hms2deg:e=>{let t=At(e,["hours","minutes","seconds"]);return[t.hours||0,t.minutes||0,t.seconds||0].join(":")},decdeg:e=>{let t=At(e,["deg","min","sec","hem","rnd"]);return(t.deg||t.degrees)+"°"},sortname:e=>{let t=At(e,["first","last","target","sort"]),i="".concat(t.first||""," ").concat(t.last||"");return i=i.trim(),t.nolink?t.target||i:(t.dab&&(i+=" (".concat(t.dab,")"),t.target&&(t.target+=" (".concat(t.dab,")"))),t.target?"[[".concat(t.target,"|").concat(i,"]]"):"[[".concat(i,"]]"))},"first word":e=>{let t=At(e,["text"]),i=t.text;return t.sep?i.split(t.sep)[0]:i.split(" ")[0]},trunc:e=>{let t=At(e,["str","len"]);return t.str.substr(0,t.len)},"str mid":e=>{let t=At(e,["str","start","end"]),i=parseInt(t.start,10)-1,a=parseInt(t.end,10);return t.str.substr(i,a)},reign:e=>{let t=At(e,["start","end"]);return"(r. ".concat(t.start," – ").concat(t.end,")")},circa:e=>{let t=At(e,["year"]);return"c. ".concat(t.year)},"decade link":e=>{let t=At(e,["year"]);return"".concat(t.year,"|").concat(t.year,"s")},decade:e=>{let t=At(e,["year"]),i=Number(t.year);return i=10*parseInt(i/10,10),"".concat(i,"s")},century:e=>{let t=At(e,["year"]),i=Number(t.year);return i=parseInt(i/100,10)+1,"".concat(i)},radic:e=>{let t=At(e,["after","before"]);return"".concat(t.before||"","√").concat(t.after||"")},"medical cases chart/row":e=>e,oldstyledate:e=>{let t=At(e,["date","year"]);return t.year?t.date+" "+t.year:t.date},braces:e=>{let t=At(e,["text"]),i="";return t.list&&(i="|"+t.list.join("|")),"{{"+(t.text||"")+i+"}}"},hlist:e=>{let t=At(e);return t.list=t.list||[],t.list.join(" · ")},pagelist:e=>(At(e).list||[]).join(", "),catlist:e=>(At(e).list||[]).join(", "),"br separated entries":e=>(At(e).list||[]).join("\n\n"),"comma separated entries":e=>(At(e).list||[]).join(", "),"anchored list":e=>{let t=At(e).list||[];return t=t.map(((e,t)=>"".concat(t+1,". ").concat(e))),t.join("\n\n")},"bulleted list":e=>{let t=At(e).list||[];return t=t.filter((e=>e)),t=t.map((e=>"• "+e)),t.join("\n\n")},plainlist:e=>{let t=(e=Pt(e)).split("|").slice(1);return t=t.join("|").split(/\n ?\* ?/),t=t.filter((e=>e)),t.join("\n\n")},term:e=>{let t=At(e,["term"]);return"".concat(t.term,":")},linum:e=>{let t=At(e,["num","text"]);return"".concat(t.num,". ").concat(t.text)},"block indent":e=>{let t=At(e);return t[1]?"\n"+t[1]+"\n":""},lbs:e=>{let t=At(e,["text"]);return"[[".concat(t.text," Lifeboat Station|").concat(t.text,"]]")},lbc:e=>{let t=At(e,["text"]);return"[[".concat(t.text,"-class lifeboat|").concat(t.text,"-class]]")},lbb:e=>{let t=At(e,["text"]);return"[[".concat(t.text,"-class lifeboat|").concat(t.text,"]]")},"#dateformat":e=>(e=e.replace(/:/,"|"),At(e,["date","format"]).date),lc:e=>(e=e.replace(/:/,"|"),(At(e,["text"]).text||"").toLowerCase()),uc:e=>(e=e.replace(/:/,"|"),(At(e,["text"]).text||"").toUpperCase()),lcfirst:e=>{e=e.replace(/:/,"|");let t=At(e,["text"]).text;return t?t[0].toLowerCase()+t.substr(1):""},ucfirst:e=>{e=e.replace(/:/,"|");let t=At(e,["text"]).text;return t?t[0].toUpperCase()+t.substr(1):""},padleft:e=>{e=e.replace(/:/,"|");let t=At(e,["text","num"]);return(t.text||"").padStart(t.num,t.str||"0")},padright:e=>{e=e.replace(/:/,"|");let t=At(e,["text","num"]);return(t.text||"").padEnd(t.num,t.str||"0")},abbrlink:e=>{let t=At(e,["abbr","page"]);return t.page?"[[".concat(t.page,"|").concat(t.abbr,"]]"):"[[".concat(t.abbr,"]]")},own:e=>{let t=At(e,["author"]),i="Own work";return t.author&&(i+=" by "+t.author),i},formatnum:e=>{e=e.replace(/:/,"|");let t=At(e,["number"]).number||"";return t=t.replace(/,/g,""),Number(t).toLocaleString()||""},frac:e=>{let t=At(e,["a","b","c"]);return t.c?"".concat(t.a," ").concat(t.b,"/").concat(t.c):t.b?"".concat(t.a,"/").concat(t.b):"1/".concat(t.b)},convert:e=>{let t=At(e,["num","two","three","four"]);return"-"===t.two||"to"===t.two||"and"===t.two?t.four?"".concat(t.num," ").concat(t.two," ").concat(t.three," ").concat(t.four):"".concat(t.num," ").concat(t.two," ").concat(t.three):"".concat(t.num," ").concat(t.two)},tl:e=>{let t=At(e,["first","second"]);return t.second||t.first},won:e=>{let t=At(e,["text"]);return t.place||t.text||Dt.titlecase(t.template)},tag:e=>{let t=At(e,["tag","open"]);const i={span:!0,div:!0,p:!0};return t.open&&"pair"!==t.open?"":i[t.tag]?t.content||"":"<".concat(t.tag," ").concat(t.attribs||"",">").concat(t.content||"","</").concat(t.tag,">")},plural:e=>{e=e.replace(/plural:/,"plural|");let t=At(e,["num","word"]),i=Number(t.num),a=t.word;return 1!==i&&(/.y$/.test(a)?a=a.replace(/y$/,"ies"):a+="s"),i+" "+a},dec:e=>{let t=At(e,["degrees","minutes","seconds"]),i=(t.degrees||0)+"°";return t.minutes&&(i+=t.minutes+"′"),t.seconds&&(i+=t.seconds+"″"),i},val:e=>{let t=At(e,["number","uncertainty"]),i=t.number;i&&Number(i)&&(i=Number(i).toLocaleString());let a=i||"";return t.p&&(a=t.p+a),t.s&&(a=t.s+a),(t.u||t.ul||t.upl)&&(a=a+" "+(t.u||t.ul||t.upl)),a},percentage:e=>{let t=At(e,["numerator","denominator","decimals"]),i=Dt.percentage(t);return null===i?"":i+"%"},"percent-done":e=>{let t=At(e,["done","total","digits"]),i=Dt.percentage({numerator:t.done,denominator:t.total,decimals:t.digits});return null===i?"":"".concat(t.done," (").concat(i,"%) done")}},Mt=[["🇦🇩","and","andorra"],["🇦🇪","are","united arab emirates"],["🇦🇫","afg","afghanistan"],["🇦🇬","atg","antigua and barbuda"],["🇦🇮","aia","anguilla"],["🇦🇱","alb","albania"],["🇦🇲","arm","armenia"],["🇦🇴","ago","angola"],["🇦🇶","ata","antarctica"],["🇦🇷","arg","argentina"],["🇦🇸","asm","american samoa"],["🇦🇹","aut","austria"],["🇦🇺","aus","australia"],["🇦🇼","abw","aruba"],["🇦🇽","ala","åland islands"],["🇦🇿","aze","azerbaijan"],["🇧🇦","bih","bosnia and herzegovina"],["🇧🇧","brb","barbados"],["🇧🇩","bgd","bangladesh"],["🇧🇪","bel","belgium"],["🇧🇫","bfa","burkina faso"],["🇧🇬","bgr","bulgaria"],["🇧🇬","bul","bulgaria"],["🇧🇭","bhr","bahrain"],["🇧🇮","bdi","burundi"],["🇧🇯","ben","benin"],["🇧🇱","blm","saint barthélemy"],["🇧🇲","bmu","bermuda"],["🇧🇳","brn","brunei darussalam"],["🇧🇴","bol","bolivia"],["🇧🇶","bes","bonaire, sint eustatius and saba"],["🇧🇷","bra","brazil"],["🇧🇸","bhs","bahamas"],["🇧🇹","btn","bhutan"],["🇧🇻","bvt","bouvet island"],["🇧🇼","bwa","botswana"],["🇧🇾","blr","belarus"],["🇧🇿","blz","belize"],["🇨🇦","can","canada"],["🇨🇨","cck","cocos (keeling) islands"],["🇨🇩","cod","congo"],["🇨🇫","caf","central african republic"],["🇨🇬","cog","congo"],["🇨🇭","che","switzerland"],["🇨🇮","civ","côte d'ivoire"],["🇨🇰","cok","cook islands"],["🇨🇱","chl","chile"],["🇨🇲","cmr","cameroon"],["🇨🇳","chn","china"],["🇨🇴","col","colombia"],["🇨🇷","cri","costa rica"],["🇨🇺","cub","cuba"],["🇨🇻","cpv","cape verde"],["🇨🇼","cuw","curaçao"],["🇨🇽","cxr","christmas island"],["🇨🇾","cyp","cyprus"],["🇨🇿","cze","czech republic"],["🇩🇪","deu","germany"],["🇩🇪","ger","germany"],["🇩🇯","dji","djibouti"],["🇩🇰","dnk","denmark"],["🇩🇲","dma","dominica"],["🇩🇴","dom","dominican republic"],["🇩🇿","dza","algeria"],["🇪🇨","ecu","ecuador"],["🇪🇪","est","estonia"],["🇪🇬","egy","egypt"],["🇪🇭","esh","western sahara"],["🇪🇷","eri","eritrea"],["🇪🇸","esp","spain"],["🇪🇹","eth","ethiopia"],["🇫🇮","fin","finland"],["🇫🇯","fji","fiji"],["🇫🇰","flk","falkland islands (malvinas)"],["🇫🇲","fsm","micronesia"],["🇫🇴","fro","faroe islands"],["🇫🇷","fra","france"],["🇬🇦","gab","gabon"],["🇬🇧","gbr","united kingdom"],["🇬🇩","grd","grenada"],["🇬🇫","guf","french guiana"],["🇬🇬","ggy","guernsey"],["🇬🇭","gha","ghana"],["🇬🇮","gib","gibraltar"],["🇬🇱","grl","greenland"],["🇬🇲","gmb","gambia"],["🇬🇳","gin","guinea"],["🇬🇵","glp","guadeloupe"],["🇬🇶","gnq","equatorial guinea"],["🇬🇷","grc","greece"],["🇬🇸","sgs","south georgia"],["🇬🇹","gtm","guatemala"],["🇬🇺","gum","guam"],["🇬🇼","gnb","guinea-bissau"],["🇬🇾","guy","guyana"],["🇭🇰","hkg","hong kong"],["🇭🇲","hmd","heard island and mcdonald islands"],["🇭🇳","hnd","honduras"],["🇭🇷","hrv","croatia"],["🇭🇹","hti","haiti"],["🇭🇺","hun","hungary"],["🇮🇩","idn","indonesia"],["🇮🇪","irl","ireland"],["🇮🇱","isr","israel"],["🇮🇲","imn","isle of man"],["🇮🇳","ind","india"],["🇮🇴","iot","british indian ocean territory"],["🇮🇶","irq","iraq"],["🇮🇷","irn","iran"],["🇮🇸","isl","iceland"],["🇮🇹","ita","italy"],["🇯🇪","jey","jersey"],["🇯🇲","jam","jamaica"],["🇯🇴","jor","jordan"],["🇯🇵","jpn","japan"],["🇰🇪","ken","kenya"],["🇰🇬","kgz","kyrgyzstan"],["🇰🇭","khm","cambodia"],["🇰🇮","kir","kiribati"],["🇰🇲","com","comoros"],["🇰🇳","kna","saint kitts and nevis"],["🇰🇵","prk","north korea"],["🇰🇷","kor","south korea"],["🇰🇼","kwt","kuwait"],["🇰🇾","cym","cayman islands"],["🇰🇿","kaz","kazakhstan"],["🇱🇦","lao","lao people's democratic republic"],["🇱🇧","lbn","lebanon"],["🇱🇨","lca","saint lucia"],["🇱🇮","lie","liechtenstein"],["🇱🇰","lka","sri lanka"],["🇱🇷","lbr","liberia"],["🇱🇸","lso","lesotho"],["🇱🇹","ltu","lithuania"],["🇱🇺","lux","luxembourg"],["🇱🇻","lva","latvia"],["🇱🇾","lby","libya"],["🇲🇦","mar","morocco"],["🇲🇨","mco","monaco"],["🇲🇩","mda","moldova"],["🇲🇪","mne","montenegro"],["🇲🇫","maf","saint martin (french part)"],["🇲🇬","mdg","madagascar"],["🇲🇭","mhl","marshall islands"],["🇲🇰","mkd","macedonia"],["🇲🇱","mli","mali"],["🇲🇲","mmr","myanmar"],["🇲🇳","mng","mongolia"],["🇲🇴","mac","macao"],["🇲🇵","mnp","northern mariana islands"],["🇲🇶","mtq","martinique"],["🇲🇷","mrt","mauritania"],["🇲🇸","msr","montserrat"],["🇲🇹","mlt","malta"],["🇲🇺","mus","mauritius"],["🇲🇻","mdv","maldives"],["🇲🇼","mwi","malawi"],["🇲🇽","mex","mexico"],["🇲🇾","mys","malaysia"],["🇲🇿","moz","mozambique"],["🇳🇦","nam","namibia"],["🇳🇨","ncl","new caledonia"],["🇳🇪","ner","niger"],["🇳🇫","nfk","norfolk island"],["🇳🇬","nga","nigeria"],["🇳🇮","nic","nicaragua"],["🇳🇱","nld","netherlands"],["🇳🇴","nor","norway"],["🇳🇵","npl","nepal"],["🇳🇷","nru","nauru"],["🇳🇺","niu","niue"],["🇳🇿","nzl","new zealand"],["🇴🇲","omn","oman"],["🇵🇦","pan","panama"],["🇵🇪","per","peru"],["🇵🇫","pyf","french polynesia"],["🇵🇬","png","papua new guinea"],["🇵🇭","phl","philippines"],["🇵🇰","pak","pakistan"],["🇵🇱","pol","poland"],["🇵🇲","spm","saint pierre and miquelon"],["🇵🇳","pcn","pitcairn"],["🇵🇷","pri","puerto rico"],["🇵🇸","pse","palestinian territory"],["🇵🇹","prt","portugal"],["🇵🇼","plw","palau"],["🇵🇾","pry","paraguay"],["🇶🇦","qat","qatar"],["🇷🇪","reu","réunion"],["🇷🇴","rou","romania"],["🇷🇸","srb","serbia"],["🇷🇺","rus","russia"],["🇷🇼","rwa","rwanda"],["🇸🇦","sau","saudi arabia"],["🇸🇧","slb","solomon islands"],["🇸🇨","syc","seychelles"],["🇸🇩","sdn","sudan"],["🇸🇪","swe","sweden"],["🇸🇬","sgp","singapore"],["🇸🇭","shn","saint helena, ascension and tristan da cunha"],["🇸🇮","svn","slovenia"],["🇸🇯","sjm","svalbard and jan mayen"],["🇸🇰","svk","slovakia"],["🇸🇱","sle","sierra leone"],["🇸🇲","smr","san marino"],["🇸🇳","sen","senegal"],["🇸🇴","som","somalia"],["🇸🇷","sur","suriname"],["🇸🇸","ssd","south sudan"],["🇸🇹","stp","sao tome and principe"],["🇸🇻","slv","el salvador"],["🇸🇽","sxm","sint maarten (dutch part)"],["🇸🇾","syr","syrian arab republic"],["🇸🇿","swz","swaziland"],["🇹🇨","tca","turks and caicos islands"],["🇹🇩","tcd","chad"],["🇹🇫","atf","french southern territories"],["🇹🇬","tgo","togo"],["🇹🇭","tha","thailand"],["🇹🇯","tjk","tajikistan"],["🇹🇰","tkl","tokelau"],["🇹🇱","tls","timor-leste"],["🇹🇲","tkm","turkmenistan"],["🇹🇳","tun","tunisia"],["🇹🇴","ton","tonga"],["🇹🇷","tur","turkey"],["🇹🇹","tto","trinidad and tobago"],["🇹🇻","tuv","tuvalu"],["🇹🇼","twn","taiwan"],["🇹🇿","tza","tanzania"],["🇺🇦","ukr","ukraine"],["🇺🇬","uga","uganda"],["🇺🇲","umi","united states minor outlying islands"],["🇺🇸","us","united states"],["🇺🇸","usa","united states"],["🇺🇾","ury","uruguay"],["🇺🇿","uzb","uzbekistan"],["🇻🇦","vat","vatican city"],["🇻🇨","vct","saint vincent and the grenadines"],["🇻🇪","ven","venezuela"],["🇻🇬","vgb","virgin islands, british"],["🇻🇮","vir","virgin islands, u.s."],["🇻🇳","vnm","viet nam"],["🇻🇺","vut","vanuatu"],["🇼🇫","wlf","wallis and futuna"],["🇼🇸","wsm","samoa"],["🇾🇪","yem","yemen"],["🇾🇹","myt","mayotte"],["🇿🇦","zaf","south africa"],["🇿🇲","zmb","zambia"],["🇿🇼 ","zwe","zimbabwe"],["🇺🇳","un","united nations"],["🏴󠁧󠁢󠁥󠁮󠁧󠁿󠁧󠁢󠁥󠁮󠁧󠁿","eng","england"],["🏴󠁧󠁢󠁳󠁣󠁴󠁿","sct","scotland"],["🏴󠁧󠁢󠁷󠁬󠁳󠁿","wal","wales"],["🇪🇺","eu","european union"]];const Rt=Je,Ut=Mt;let Bt={flag:e=>{let t=Rt(e,["flag","variant"]),i=t.flag||"";t.flag=(t.flag||"").toLowerCase();let a=Ut.find((e=>t.flag===e[1]||t.flag===e[2]))||[],n=a[0]||"";return"".concat(n," [[").concat(a[2],"|").concat(i,"]]")},flagcountry:e=>{let t=Rt(e,["flag","variant"]);t.flag=(t.flag||"").toLowerCase();let i=Ut.find((e=>t.flag===e[1]||t.flag===e[2]))||[],a=i[0]||"";return"".concat(a," [[").concat(i[2],"]]")},flagcu:e=>{let t=Rt(e,["flag","variant"]);t.flag=(t.flag||"").toLowerCase();let i=Ut.find((e=>t.flag===e[1]||t.flag===e[2]))||[],a=i[0]||"";return"".concat(a," ").concat(i[2])},flagicon:e=>{let t=Rt(e,["flag","variant"]);t.flag=(t.flag||"").toLowerCase();let i=Ut.find((e=>t.flag===e[1]||t.flag===e[2]));return i?"[[".concat(i[2],"|").concat(i[0],"]]"):""},flagdeco:e=>{let t=Rt(e,["flag","variant"]);return t.flag=(t.flag||"").toLowerCase(),(Ut.find((e=>t.flag===e[1]||t.flag===e[2]))||[])[0]||""},fb:e=>{let t=Rt(e,["flag","variant"]);t.flag=(t.flag||"").toLowerCase();let i=Ut.find((e=>t.flag===e[1]||t.flag===e[2]));return i?"".concat(i[0]," [[").concat(i[2]," national football team|").concat(i[2],"]]"):""},fbicon:e=>{let t=Rt(e,["flag","variant"]);t.flag=(t.flag||"").toLowerCase();let i=Ut.find((e=>t.flag===e[1]||t.flag===e[2]));return i?" [[".concat(i[2]," national football team|").concat(i[0],"]]"):""},flagathlete:e=>{let t=Rt(e,["name","flag","variant"]);t.flag=(t.flag||"").toLowerCase();let i=Ut.find((e=>t.flag===e[1]||t.flag===e[2]));return i?"".concat(i[0]," [[").concat(t.name||"","]] (").concat(i[1].toUpperCase(),")"):"[[".concat(t.name||"","]]")}};Ut.forEach((e=>{Bt[e[1]]=()=>e[0]}));var Ft=Bt;const Kt=Je,Wt=Tt.titlecase;let Zt={};["rh","rh2","yes","no","maybe","eliminated","lost","safe","active","site active","coming soon","good","won","nom","sho","longlisted","tba","success","operational","failure","partial","regional","maybecheck","partial success","partial failure","okay","yes-no","some","nonpartisan","pending","unofficial","unofficial2","usually","rarely","sometimes","any","varies","black","non-album single","unreleased","unknown","perhaps","depends","included","dropped","terminated","beta","table-experimental","free","proprietary","nonfree","needs","nightly","release-candidate","planned","scheduled","incorrect","no result","cmain","calso starring","crecurring","cguest","not yet","optional"].forEach((e=>{Zt[e]=e=>{let t=Kt(e,["text"]);return t.text||Wt(t.template)}}));[["active fire","Active"],["site active","Active"],["site inactive","Inactive"],["yes2",""],["no2",""],["ya","✅"],["na","❌"],["nom","Nominated"],["sho","Shortlisted"],["tba","TBA"],["maybecheck","✔️"],["okay","Neutral"],["n/a","N/A"],["sdash","—"],["dunno","?"],["draw",""],["cnone",""],["nocontest",""]].forEach((e=>{Zt[e[0]]=t=>Kt(t,["text"]).text||e[1]}));var Ht=Zt,Yt=Object.assign({},{"·":"·",dot:"·",middot:"·","•":" • ",",":",","1/2":"1⁄2","1/3":"1⁄3","2/3":"2⁄3","1/4":"1⁄4","3/4":"3⁄4","–":"–",ndash:"–","en dash":"–","spaced ndash":" – ","—":"—",mdash:"—","em dash":"—","number sign":"#",ibeam:"I","&":"&",";":";",ampersand:"&",snds:" – ",snd:" – ","^":" ","!":"|","\\":" /","`":"`","=":"=",bracket:"[","[":"[","*":"*",asterisk:"*","long dash":"———",clear:"\n\n","h.":"ḥ",profit:"▲",loss:"▼",gain:"▲"},qt,It,Ft,Ht);let Gt={};["goodreads author","twitter","facebook","instagram","tumblr","pinterest","espn nfl","espn nhl","espn fc","hockeydb","fifa player","worldcat","worldcat id","nfl player","ted speaker","playmate"].forEach((e=>{Gt[e]=["id","name"]}));var Vt=Gt;let Jt={};["imdb title","imdb name","imdb episode","imdb event","afi film","allmovie title","allgame","tcmdb title","discogs artist","discogs label","discogs release","discogs master","librivox author","musicbrainz artist","musicbrainz label","musicbrainz recording","musicbrainz release","musicbrainz work","youtube","goodreads book","dmoz"].forEach((e=>{Jt[e]=["id","title","description","section"]}));var Xt=Jt;const Qt=Je,ei=C,ti=Tt;var ii={ipa:(e,t)=>{let i=Qt(e,["transcription","lang","audio"]);return i.lang=ti.getLang(i.template),i.template="ipa",t.push(i),""},ipac:(e,t)=>{let i=Qt(e);return i.transcription=(i.list||[]).join(","),delete i.list,i.lang=ti.getLang(i.template),i.template="ipac",t.push(i),""},quote:(e,t)=>{let i=Qt(e,["text","author"]);if(t.push(i),i.text){let e='"'.concat(i.text,'"');return i.author&&(e+="\n\n",e+="    - ".concat(i.author)),e+"\n"}return""},"cite gnis":(e,t)=>{let i=Qt(e,["id","name","type"]);return i.type="gnis",i.template="citation",t.push(i),""},"spoken wikipedia":(e,t)=>{let i=Qt(e,["file","date"]);return i.template="audio",t.push(i),""},yel:(e,t)=>{let i=Qt(e,["min"]);return t.push(i),i.min?"yellow: ".concat(i.min||"","'"):""},subon:(e,t)=>{let i=Qt(e,["min"]);return t.push(i),i.min?"sub on: ".concat(i.min||"","'"):""},suboff:(e,t)=>{let i=Qt(e,["min"]);return t.push(i),i.min?"sub off: ".concat(i.min||"","'"):""},sfn:(e,t,i,a)=>{let n=Qt(e,["author","year","location"]);return a&&(n.name=n.template,n.teplate=a),t.push(n),""},redirect:(e,t)=>{let i=Qt(e,["redirect"]),a=i.list||[],n=[];for(let e=0;e<a.length;e+=2)n.push({page:a[e+1],desc:a[e]});let r={template:"redirect",redirect:i.redirect,links:n};return t.push(r),""},"sister project links":(e,t)=>{let i=Qt(e),a={};Object.keys(ti.sisterProjects).forEach((e=>{!0===i.hasOwnProperty(e)&&(a[ti.sisterProjects[e]]=i[e])}));let n={template:"sister project links",links:a};return t.push(n),""},"subject bar":(e,t)=>{let i=Qt(e);Object.keys(i).forEach((e=>{ti.sisterProjects.hasOwnProperty(e)&&(i[ti.sisterProjects[e]]=i[e],delete i[e])}));let a={template:"subject bar",links:i};return t.push(a),""},gallery:(e,t)=>{let i=Qt(e),a=(i.list||[]).filter((e=>/^ *File ?:/.test(e)));return a=a.map((e=>new ei({file:e}).json())),i={template:"gallery",images:a},t.push(i),""},sky:(e,t)=>{let i=Qt(e,["asc_hours","asc_minutes","asc_seconds","dec_sign","dec_degrees","dec_minutes","dec_seconds","distance"]),a={template:"sky",ascension:{hours:i.asc_hours,minutes:i.asc_minutes,seconds:i.asc_seconds},declination:{sign:i.dec_sign,degrees:i.dec_degrees,minutes:i.dec_minutes,seconds:i.dec_seconds},distance:i.distance};return t.push(a),""},"medical cases chart":(e,t)=>{let i=["date","deathsExpr","recoveriesExpr","casesExpr","4thExpr","5thExpr","col1","col1Change","col2","col2Change"],a=Qt(e);a.data=a.data||"";let n=a.data.split("\n").map((e=>{let t=e.split(";"),a={options:new Map},n=0;for(let e=0;e<t.length;e++){let r=t[e].trim();if(r.match(/^[a-zA-Z_]/)){let[e,t]=r.split("=");void 0===t&&(t=null),a.options.set(e,t)}else n<i.length&&(a[i[n]]=r),n++}for(;n<i.length;n++)a[i[n]]=null;return a}));return a.data=n,t.push(a),""},graph:(e,t)=>{let i=Qt(e);i.x&&(i.x=i.x.split(",").map((e=>e.trim()))),i.y&&(i.y=i.y.split(",").map((e=>e.trim())));let a=1;for(;i["y"+a];)i["y"+a]=i["y"+a].split(",").map((e=>e.trim())),a+=1;return t.push(i),""},"historical populations":(e,t)=>{let i=Qt(e);i.list=i.list||[];let a=[];for(let e=0;e<i.list.length;e+=2){let t=i.list[e+1];a.push({year:i.list[e],val:Number(t)||t})}return i.data=a,delete i.list,t.push(i),""},"weather box":(e,t)=>{const i=/^jan /i,a=/^year /i;let n=Qt(e);const r=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];let o={},s=Object.keys(n).filter((e=>i.test(e)));s=s.map((e=>e.replace(i,""))),s.forEach((e=>{o[e]=[],r.forEach((t=>{let i="".concat(t," ").concat(e);if(n.hasOwnProperty(i)){let t=ti.toNumber(n[i]);delete n[i],o[e].push(t)}}))})),n.byMonth=o;let l={};return Object.keys(n).forEach((e=>{if(a.test(e)){let t=e.replace(a,"");l[t]=n[e],delete n[e]}})),n.byYear=l,t.push(n),""},"weather box/concise c":(e,t)=>{let i=Qt(e);return i.list=i.list.map((e=>ti.toNumber(e))),i.byMonth={"high c":i.list.slice(0,12),"low c":i.list.slice(12,24),"rain mm":i.list.slice(24,36)},delete i.list,i.template="weather box",t.push(i),""},"weather box/concise f":(e,t)=>{let i=Qt(e);return i.list=i.list.map((e=>ti.toNumber(e))),i.byMonth={"high f":i.list.slice(0,12),"low f":i.list.slice(12,24),"rain inch":i.list.slice(24,36)},delete i.list,i.template="weather box",t.push(i),""},"climate chart":(e,t)=>{let i=Qt(e).list||[],a=i[0],n=i[38];i=i.slice(1),i=i.map((e=>(e&&"−"===e[0]&&(e=e.replace(/−/,"-")),e)));let r=[];for(let e=0;e<36;e+=3)r.push({low:ti.toNumber(i[e]),high:ti.toNumber(i[e+1]),precip:ti.toNumber(i[e+2])});let o={template:"climate chart",data:{title:a,source:n,months:r}};return t.push(o),""}};let ai={"find a grave":["id","name","work","last","first","date","accessdate"],congbio:["id","name","date"],"hollywood walk of fame":["name"],"wide image":["file","width","caption"],audio:["file","text","type"],rp:["page"],"short description":["description"],"coord missing":["region"],unreferenced:["date"],"taxon info":["taxon","item"],"portuguese name":["first","second","suffix"],geo:["lat","lon","zoom"]};ai=Object.assign(ai,Vt,Xt,ii);var ni=ai;const ri=Je,oi=Tt;let si={math:(e,t)=>{let i=ri(e,["formula"]);return t.push(i),"\n\n"+(i.formula||"")+"\n\n"},isbn:(e,t)=>{let i=ri(e,["id","id2","id3"]);return t.push(i),"ISBN: "+(i.id||"")},"based on":(e,t)=>{let i=ri(e,["title","author"]);return t.push(i),"".concat(i.title," by ").concat(i.author||"")},"bbl to t":(e,t)=>{let i=ri(e,["barrels"]);return t.push(i),"0"===i.barrels?i.barrels+" barrel":i.barrels+" barrels"},mpc:(e,t)=>{let i=ri(e,["number","text"]);return t.push(i),"[https://minorplanetcenter.net/db_search/show_object?object_id=P/2011+NO1 ".concat(i.text||i.number,"]")},pengoal:(e,t)=>(t.push({template:"pengoal"}),"✅"),penmiss:(e,t)=>(t.push({template:"penmiss"}),"❌"),"ordered list":(e,t)=>{let i=ri(e);return t.push(i),i.list=i.list||[],i.list.map(((e,t)=>"".concat(t+1,". ").concat(e))).join("\n\n")},"title year":(e,t,i,a,n)=>{let r=ri(e,["match","nomatch","page"]),o=r.page||n.title();if(o){let e=o.match(/\b[0-9]{4}\b/);if(e)return e[0]}return r.nomatch||""},"title century":(e,t,i,a,n)=>{let r=ri(e,["match","nomatch","page"]),o=r.page||n.title();if(o){let e=o.match(/\b([0-9]+)(st|nd|rd|th)\b/);if(e)return e[1]||""}return r.nomatch||""},"title decade":(e,t,i,a,n)=>{let r=ri(e,["match","nomatch","page"]),o=r.page||n.title();if(o){let e=o.match(/\b([0-9]+)s\b/);if(e)return e[1]||""}return r.nomatch||""},nihongo:(e,t)=>{let i=ri(e,["english","kanji","romaji","extra"]);t.push(i);let a=i.english||i.romaji||"";return i.kanji&&(a+=" (".concat(i.kanji,")")),a},marriage:(e,t)=>{let i=ri(e,["spouse","from","to","end"]);t.push(i);let a=i.spouse||"";return i.from&&(i.to?a+=" (m. ".concat(i.from,"-").concat(i.to,")"):a+=" (m. ".concat(i.from,")")),a},"sent off":(e,t)=>{let i=ri(e,["cards"]),a={template:"sent off",cards:i.cards,minutes:i.list||[]};return t.push(a),"sent off: "+a.minutes.map((e=>e+"'")).join(", ")},transl:(e,t)=>{let i=ri(e,["lang","text","text2"]);return i.text2&&(i.iso=i.text,i.text=i.text2,delete i.text2),t.push(i),i.text||""},"collapsible list":(e,t)=>{let i=ri(e);t.push(i);let a="";if(i.title&&(a+="'''".concat(i.title,"'''")+"\n\n"),!i.list){i.list=[];for(let e=1;e<10;e+=1)i[e]&&(i.list.push(i[e]),delete i[e])}return i.list=i.list.filter((e=>e)),a+=i.list.join("\n\n"),a},"columns-list":(e,t)=>{let i=((ri(e).list||[])[0]||"").split(/\n/).filter((e=>e));return i=i.map((e=>e.replace(/\*/,""))),t.push({template:"columns-list",list:i}),i=i.map((e=>"• "+e)),i.join("\n\n")},height:(e,t)=>{let i=ri(e);t.push(i);let a=[];return["m","cm","ft","in"].forEach((e=>{!0===i.hasOwnProperty(e)&&a.push(i[e]+e)})),a.join(" ")},sic:(e,t)=>{let i=ri(e,["one","two","three"]),a=(i.one||"")+(i.two||"");return"?"===i.one&&(a=(i.two||"")+(i.three||"")),t.push({template:"sic",word:a}),"y"===i.nolink?a:"".concat(a," [sic]")},inrconvert:(e,t)=>{let i=ri(e,["rupee_value","currency_formatting"]);t.push(i);const a={k:1e3,m:1e6,b:1e9,t:1e12,l:1e5,c:1e7,lc:1e12};if(i.currency_formatting){let e=a[i.currency_formatting]||1;i.rupee_value=i.rupee_value*e}return"inr ".concat(i.rupee_value||"")},frac:(e,t)=>{let i=ri(e,["a","b","c"]),a={template:"sfrac"};return i.c?(a.integer=i.a,a.numerator=i.b,a.denominator=i.c):i.b?(a.numerator=i.a,a.denominator=i.b):(a.numerator=1,a.denominator=i.a),t.push(a),a.integer?"".concat(a.integer," ").concat(a.numerator,"⁄").concat(a.denominator):"".concat(a.numerator,"⁄").concat(a.denominator)},"winning percentage":(e,t)=>{let i=ri(e,["wins","losses","ties"]);t.push(i);let a=Number(i.wins),n=Number(i.losses),r=Number(i.ties)||0,o=a+n+r;"y"===i.ignore_ties&&(r=0),r&&(a+=r/2);let s=oi.percentage({numerator:a,denominator:o,decimals:1});return null===s?"":".".concat(10*s)},winlosspct:(e,t)=>{let i=ri(e,["wins","losses"]);t.push(i);let a=Number(i.wins),n=Number(i.losses),r=oi.percentage({numerator:a,denominator:a+n,decimals:1});return null===r?"":(r=".".concat(10*r),"".concat(a||0," || ").concat(n||0," || ").concat(r||"-"))},"video game release":(e,t)=>{let i=["region","date","region2","date2","region3","date3","region4","date4"],a=ri(e,i),n={template:"video game release",releases:[]};for(let e=0;e<i.length;e+=2)a[i[e]]&&n.releases.push({region:a[i[e]],date:a[i[e+1]]});return t.push(n),"\n"+n.releases.map((e=>"".concat(e.region,": ").concat(e.date||""))).join("\n\n")+"\n"},uss:(e,t)=>{let i=ri(e,["name","id"]);return t.push(i),i.id?"[[USS ".concat(i.name," (").concat(i.id,")|USS ''").concat(i.name,"'' (").concat(i.id,")]]"):"[[USS ".concat(i.name,"|USS ''").concat(i.name,"'']]")}};var li=si;const ci=Je,ui={"£":"GB£","¥":"¥","৳":"৳","₩":"₩","€":"€","₱":"₱","₹":"₹","₽":"₽","cn¥":"CN¥","gb£":"GB£","india rs":"₹","indian rupee symbol":"₹","indian rupee":"₹","indian rupees":"₹","philippine peso":"₱","russian ruble":"₽","SK won":"₩","turkish lira":"TRY",a$:"A$",au$:"A$",aud:"A$",bdt:"BDT",brl:"BRL",ca$:"CA$",cad:"CA$",chf:"CHF",cny:"CN¥",czk:"czk",dkk:"dkk",dkk2:"dkk",euro:"€",gbp:"GB£",hk$:"HK$",hkd:"HK$",ils:"ILS",inr:"₹",jpy:"¥",myr:"MYR",nis:"ILS",nok:"NOK",nok2:"NOK",nz$:"NZ$",nzd:"NZ$",peso:"peso",pkr:"₨",r$:"BRL",rmb:"CN¥",rub:"₽",ruble:"₽",rupee:"₹",s$:"sgd",sek:"SEK",sek2:"SEK",sfr:"CHF",sgd:"sgd",shekel:"ILS",sheqel:"ILS",ttd:"TTD",us$:"US$",usd:"US$",yen:"¥",zar:"R"},mi=(e,t)=>{let i=ci(e,["amount","code"]);t.push(i);let a=i.template||"";"currency"===a?(a=i.code,a||(i.code=a="usd")):""!==a&&"monnaie"!==a&&"unité"!==a&&"nombre"!==a&&"nb"!==a||(a=i.code),a=(a||"").toLowerCase(),"us"===a?i.code=a="usd":"uk"===a&&(i.code=a="gbp");let n="".concat(ui[a]||"").concat(i.amount||"");return i.code&&!ui[i.code.toLowerCase()]&&(n+=" "+i.code),n};let pi={currency:mi};Object.keys(ui).forEach((e=>{pi[e]=mi}));var di=pi;const gi=864e5,hi=30*gi,fi=365*gi,bi=function(e){return new Date("".concat(e.year,"-").concat(e.month||0,"-").concat(e.date||1)).getTime()};var ki={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],timeSince:function(e){let t=new Date(e);if(isNaN(t.getTime()))return"";let i=(new Date).getTime()-t.getTime(),a="ago";i<0&&(a="from now",i=Math.abs(i));let n=i/1e3/60/60/24;return n<365?parseInt(n,10)+" days "+a:parseInt(n/365,10)+" years "+a},delta:function(e,t){e=bi(e);let i=(t=bi(t))-e,a={},n=Math.floor(i/fi,10);n>0&&(a.years=n,i-=a.years*fi);let r=Math.floor(i/hi,10);r>0&&(a.months=r,i-=a.months*hi);let o=Math.floor(i/gi,10);return o>0&&(a.days=o),a},toOrdinal:function(e){let t=e%10,i=e%100;return 1===t&&11!==i?e+"st":2===t&&12!==i?e+"nd":3===t&&13!==i?e+"rd":e+"th"}};const wi=[void 0,"January","February","March","April","May","June","July","August","September","October","November","December"],yi=wi.reduce(((e,t,i)=>(0===i||(e[t.toLowerCase()]=i),e)),{}),xi=function(e){return e<10?"0"+e:String(e)};var vi={toText:function(e){let t=String(e.year||"");if(void 0!==e.month&&!0===wi.hasOwnProperty(e.month))if(void 0===e.date)t="".concat(wi[e.month]," ").concat(e.year);else{if(t="".concat(wi[e.month]," ").concat(e.date,", ").concat(e.year),void 0!==e.hour&&void 0!==e.minute){let i="".concat(xi(e.hour),":").concat(xi(e.minute));void 0!==e.second&&(i=i+":"+xi(e.second)),t=i+", "+t}e.tz&&(t+=" (".concat(e.tz,")"))}return t},ymd:function(e){let t={},i=["year","month","date","hour","minute","second"];for(let a=0;a<i.length;a+=1){if(!e[a]&&0!==e[1])continue;let n=parseInt(e[a],10);if(!1===isNaN(n))t[i[a]]=n;else if("month"===i[a]&&yi.hasOwnProperty(e[a])){let n=yi[e[a]];t[i[a]]=n}else delete t[i[a]]}let a=e[e.length-1]||"";return a=String(a),"z"===a.toLowerCase()?t.tz="UTC":/[+-][0-9]+:[0-9]/.test(a)&&(t.tz=e[6]),t}};const $i=De,ji=Je,_i=ki.delta,zi=vi,Oi=function(e){return{template:"date",data:e}},Ei=function(e){let t=(e=$i(e)).split("|"),i=zi.ymd(t.slice(1,4)),a=t.slice(4,7);if(0===a.length){let e=new Date;a=[e.getFullYear(),e.getMonth(),e.getDate()]}return a=zi.ymd(a),{from:i,to:a}},Si={date:(e,t)=>{let i=ji(e,["year","month","date","hour","minute","second","timezone"]),a=zi.ymd([i.year,i.month,i.date||i.day]);return i.text=zi.toText(a),i.timezone&&("Z"===i.timezone&&(i.timezone="UTC"),i.text+=" (".concat(i.timezone,")")),i.hour&&i.minute&&(i.second?i.text="".concat(i.hour,":").concat(i.minute,":").concat(i.second,", ")+i.text:i.text="".concat(i.hour,":").concat(i.minute,", ")+i.text),i.text&&t.push(Oi(i)),i.text},natural_date:(e,t)=>{let i=ji(e,["text"]).text||"",a={};if(/^[0-9]{4}$/.test(i))a.year=parseInt(i,10);else{let e=i.replace(/[a-z]+\/[a-z]+/i,"");e=e.replace(/[0-9]+:[0-9]+(am|pm)?/i,"");let t=new Date(e);!1===isNaN(t.getTime())&&(a.year=t.getFullYear(),a.month=t.getMonth()+1,a.date=t.getDate())}return t.push(Oi(a)),i.trim()},one_year:(e,t)=>{let i=ji(e,["year"]),a=Number(i.year);return t.push(Oi({year:a})),String(a)},two_dates:(e,t)=>{let i=ji(e,["b","birth_year","birth_month","birth_date","death_year","death_month","death_date"]);if(i.b&&"b"===i.b.toLowerCase()){let e=zi.ymd([i.birth_year,i.birth_month,i.birth_date]);return t.push(Oi(e)),zi.toText(e)}let a=zi.ymd([i.death_year,i.death_month,i.death_date]);return t.push(Oi(a)),zi.toText(a)},age:e=>{let t=Ei(e);return _i(t.from,t.to).years||0},"diff-y":e=>{let t=Ei(e),i=_i(t.from,t.to);return 1===i.years?i.years+" year":(i.years||0)+" years"},"diff-ym":e=>{let t=Ei(e),i=_i(t.from,t.to),a=[];return 1===i.years?a.push(i.years+" year"):i.years&&0!==i.years&&a.push(i.years+" years"),1===i.months?a.push("1 month"):i.months&&0!==i.months&&a.push(i.months+" months"),a.join(", ")},"diff-ymd":e=>{let t=Ei(e),i=_i(t.from,t.to),a=[];return 1===i.years?a.push(i.years+" year"):i.years&&0!==i.years&&a.push(i.years+" years"),1===i.months?a.push("1 month"):i.months&&0!==i.months&&a.push(i.months+" months"),1===i.days?a.push("1 day"):i.days&&0!==i.days&&a.push(i.days+" days"),a.join(", ")},"diff-yd":e=>{let t=Ei(e),i=_i(t.from,t.to),a=[];return 1===i.years?a.push(i.years+" year"):i.years&&0!==i.years&&a.push(i.years+" years"),i.days+=30*(i.months||0),1===i.days?a.push("1 day"):i.days&&0!==i.days&&a.push(i.days+" days"),a.join(", ")},"diff-d":e=>{let t=Ei(e),i=_i(t.from,t.to),a=[];return i.days+=365*(i.years||0),i.days+=30*(i.months||0),1===i.days?a.push("1 day"):i.days&&0!==i.days&&a.push(i.days+" days"),a.join(", ")}};const Ci=Si,Ni=Je,qi=ki,Li=vi,Ti=["January","February","March","April","May","June","July","August","September","October","November","December"];var Ai={currentday:()=>{let e=new Date;return String(e.getDate())},currentdayname:()=>{let e=new Date;return qi.days[e.getDay()]},currentmonth:()=>{let e=new Date;return Ti[e.getMonth()]},currentyear:()=>{let e=new Date;return String(e.getFullYear())},monthyear:()=>{let e=new Date;return Ti[e.getMonth()]+" "+e.getFullYear()},"monthyear-1":()=>{let e=new Date;return e.setMonth(e.getMonth()-1),Ti[e.getMonth()]+" "+e.getFullYear()},"monthyear+1":()=>{let e=new Date;return e.setMonth(e.getMonth()+1),Ti[e.getMonth()]+" "+e.getFullYear()},"time ago":e=>{let t=Ni(e,["date","fmt"]).date;return qi.timeSince(t)},"birth date and age":(e,t)=>{let i=Ni(e,["year","month","day"]);return i.year&&/[a-z]/i.test(i.year)?Ci.natural_date(e,t):(t.push(i),i=Li.ymd([i.year,i.month,i.day]),Li.toText(i))},"birth year and age":(e,t)=>{let i=Ni(e,["birth_year","birth_month"]);if(i.death_year&&/[a-z]/i.test(i.death_year))return Ci.natural_date(e,t);t.push(i);let a=(new Date).getFullYear()-parseInt(i.birth_year,10);i=Li.ymd([i.birth_year,i.birth_month]);let n=Li.toText(i);return a&&(n+=" (age ".concat(a,")")),n},"death year and age":(e,t)=>{let i=Ni(e,["death_year","birth_year","death_month"]);return i.death_year&&/[a-z]/i.test(i.death_year)?Ci.natural_date(e,t):(t.push(i),i=Li.ymd([i.death_year,i.death_month]),Li.toText(i))},"birth date and age2":(e,t)=>{let i=Ni(e,["at_year","at_month","at_day","birth_year","birth_month","birth_day"]);return t.push(i),i=Li.ymd([i.birth_year,i.birth_month,i.birth_day]),Li.toText(i)},"birth based on age as of date":(e,t)=>{let i=Ni(e,["age","year","month","day"]);t.push(i);let a=parseInt(i.age,10),n=parseInt(i.year,10)-a;return n&&a?"".concat(n," (age ").concat(i.age,")"):"(age ".concat(i.age,")")},"death date and given age":(e,t)=>{let i=Ni(e,["year","month","day","age"]);t.push(i),i=Li.ymd([i.year,i.month,i.day]);let a=Li.toText(i);return i.age&&(a+=" (age ".concat(i.age,")")),a},dts:e=>{e=(e=e.replace(/\|format=[ymd]+/i,"")).replace(/\|abbr=(on|off)/i,"");let t=Ni(e,["year","month","date","bc"]);return t.date&&t.month&&t.year?!0===/[a-z]/.test(t.month)?[t.month,t.date,t.year].join(" "):[t.year,t.month,t.date].join("-"):t.month&&t.year?[t.year,t.month].join("-"):t.year?(t.year<0&&(t.year=Math.abs(t.year)+" BC"),t.year):""},time:()=>{let e=new Date,t=Li.ymd([e.getFullYear(),e.getMonth(),e.getDate()]);return Li.toText(t)},millennium:e=>{let t=Ni(e,["year"]),i=Number(t.year);return i=parseInt(i/1e3,10)+1,t.abbr&&"y"===t.abbr?i<0?"".concat(qi.toOrdinal(Math.abs(i))," BC"):"".concat(qi.toOrdinal(i)):"".concat(qi.toOrdinal(i)," millennium")},start:Ci.date,"start-date":Ci.natural_date,birthdeathage:Ci.two_dates,age:Ci.age,"age nts":Ci.age,"age in years":Ci["diff-y"],"age in years and months":Ci["diff-ym"],"age in years, months and days":Ci["diff-ymd"],"age in years and days":Ci["diff-yd"],"age in days":Ci["diff-d"]};const Pi=Je;function Di(e){let t=e.pop(),i=Number(e[0]||0),a=Number(e[1]||0),n=Number(e[2]||0);if("string"!=typeof t||isNaN(i))return null;let r=1;return/[SW]/i.test(t)&&(r=-1),r*(i+a/60+n/3600)}const Ii=function(e){if("number"!=typeof e)return e;let t=1e5;return Math.round(e*t)/t},Mi={s:!0,w:!0};const Ri=function(e){let t=Pi(e);t=function(e){return e.list=e.list||[],e.list=e.list.map((t=>{let i=Number(t);if(!isNaN(i))return i;let a=t.split(/:/);return a.length>1?(e.props=e.props||{},e.props[a[0]]=a.slice(1).join(":"),null):t})),e.list=e.list.filter((e=>null!==e)),e}(t);let i=function(e){const t=e.map((e=>typeof e)).join("|");return 2===e.length&&"number|number"===t?{lat:e[0],lon:e[1]}:4===e.length&&"number|string|number|string"===t?(Mi[e[1].toLowerCase()]&&(e[0]*=-1),"w"===e[3].toLowerCase()&&(e[2]*=-1),{lat:e[0],lon:e[2]}):6===e.length?{lat:Di(e.slice(0,3)),lon:Di(e.slice(3))}:8===e.length?{lat:Di(e.slice(0,4)),lon:Di(e.slice(4))}:{}}(t.list);return t.lat=Ii(i.lat),t.lon=Ii(i.lon),t.template="coord",delete t.list,t},Ui={coord:(e,t)=>{let i=Ri(e);return t.push(i),i.display&&-1===i.display.indexOf("inline")?"":"".concat(i.lat||"","°N, ").concat(i.lon||"","°W")}};var Bi=Ui;const Fi=Je,Ki=function(e,t,i,a){let n=Fi(e);return a&&(n.name=n.template,n.template=a),t.push(n),""};var Wi={persondata:Ki,taxobox:Ki,citation:Ki,portal:Ki,reflist:Ki,"cite book":Ki,"cite journal":Ki,"cite web":Ki,"commons cat":Ki,"election box candidate":Ki,"election box begin":Ki,main:Ki};const Zi=Je,Hi={adx:"adx",aim:"aim",amex:"amex",asx:"asx",athex:"athex",b3:"b3","B3 (stock exchange)":"B3 (stock exchange)",barbadosse:"barbadosse",bbv:"bbv",bcba:"bcba",bcs:"bcs",bhse:"bhse",bist:"bist",bit:"bit","bm&f bovespa":"b3","bm&f":"b3",bmad:"bmad",bmv:"bmv","bombay stock exchange":"bombay stock exchange","botswana stock exchange":"botswana stock exchange",bpse:"bpse",bse:"bse",bsx:"bsx",bvb:"bvb",bvc:"bvc",bvl:"bvl",bvpasa:"bvpasa",bwse:"bwse","canadian securities exchange":"canadian securities exchange",cse:"cse",darse:"darse",dfm:"dfm",dse:"dse",euronext:"euronext",euronextparis:"euronextparis",fse:"fse",fwb:"fwb",gse:"gse",gtsm:"gtsm",idx:"idx",ise:"ise",iseq:"iseq",isin:"isin",jasdaq:"jasdaq",jse:"jse",kase:"kase",kn:"kn",krx:"krx",lse:"lse",luxse:"luxse","malta stock exchange":"malta stock exchange",mai:"mai",mcx:"mcx",mutf:"mutf",myx:"myx",nag:"nag","nasdaq dubai":"nasdaq dubai",nasdaq:"nasdaq",neeq:"neeq",nepse:"nepse",nex:"nex",nse:"nse",newconnect:"newconnect","nyse arca":"nyse arca",nyse:"nyse",nzx:"nzx","omx baltic":"omx baltic",omx:"omx",ose:"ose","otc expert":"otc expert","otc grey":"otc grey","otc pink":"otc pink",otcqb:"otcqb",otcqx:"otcqx","pfts ukraine stock exchange":"pfts ukraine stock exchange","philippine stock exchange":"philippine stock exchange",prse:"prse",psx:"psx",karse:"karse",qe:"qe","saudi stock exchange":"saudi stock exchange",sehk:"sehk","Stock Exchange of Thailand":"Stock Exchange of Thailand",set:"set",sgx:"sgx",sse:"sse",swx:"swx",szse:"szse",tase:"tase","tsx-v":"tsx-v",tsx:"tsx",tsxv:"tsxv",ttse:"ttse",twse:"twse",tyo:"tyo",wbag:"wbag",wse:"wse","zagreb stock exchange":"zagreb stock exchange","zimbabwe stock exchange":"zimbabwe stock exchange",zse:"zse"},Yi=(e,t)=>{let i=Zi(e,["ticketnumber","code"]);t.push(i);let a=i.template||"";""===a&&(a=i.code),a=(a||"").toLowerCase();let n=Hi[a]||"";return i.ticketnumber&&(n="".concat(n,": ").concat(i.ticketnumber)),i.code&&!Hi[i.code.toLowerCase()]&&(n+=" "+i.code),n},Gi={};Object.keys(Hi).forEach((e=>{Gi[e]=Yi}));var Vi=Gi;const Ji=Je,Xi=function(e){return 1===(e=String(e)).length&&(e="0"+e),e},Qi=function(e,t,i){e["rd".concat(t,"-team").concat(Xi(i))]&&(i=Xi(i));let a=e["rd".concat(t,"-score").concat(i)],n=Number(a);return!1===isNaN(n)&&(a=n),{team:e["rd".concat(t,"-team").concat(i)],score:a,seed:e["rd".concat(t,"-seed").concat(i)]}};var ea=function(e){let t=[],i=Ji(e);for(let e=1;e<7;e+=1){let a=[];for(let t=1;t<16;t+=2){let n="rd".concat(e,"-team");if(!i[n+t]&&!i[n+Xi(t)])break;{let n=Qi(i,e,t),r=Qi(i,e,t+1);a.push([n,r])}}a.length>0&&t.push(a)}return{template:"playoffbracket",rounds:t}};const ta=Je,ia=Mt,aa=ea;let na={"4teambracket":function(e,t){let i=aa(e);return t.push(i),""},player:(e,t)=>{let i=ta(e,["number","country","name","dl"]);t.push(i);let a="[[".concat(i.name,"]]");if(i.country){let e=(i.country||"").toLowerCase(),t=ia.find((t=>e===t[1]||e===t[2]))||[];t&&t[0]&&(a=t[0]+"  "+a)}return i.number&&(a=i.number+" "+a),a},goal:(e,t)=>{let i={template:"goal",data:[]},a=ta(e).list||[];for(let e=0;e<a.length;e+=2)i.data.push({min:a[e],note:a[e+1]||""});t.push(i);let n="⚽ ";return n+=i.data.map((e=>{let t=e.note;return t&&(t=" (".concat(t,")")),e.min+"'"+t})).join(", "),n},"sports table":(e,t)=>{let i=ta(e),a={};Object.keys(i).filter((e=>/^team[0-9]/.test(e))).map((e=>i[e].toLowerCase())).forEach((e=>{a[e]={name:i["name_".concat(e)],win:Number(i["win_".concat(e)])||0,loss:Number(i["loss_".concat(e)])||0,tie:Number(i["tie_".concat(e)])||0,otloss:Number(i["otloss_".concat(e)])||0,goals_for:Number(i["gf_".concat(e)])||0,goals_against:Number(i["ga_".concat(e)])||0}}));let n={date:i.update,header:i.table_header,teams:a};t.push(n)}};var ra=na,oa=Object.assign({},{mlbplayer:{props:["number","name","il"],out:"name"},syntaxhighlight:{props:[],out:"code"},samp:{props:["1"],out:"1"},sub:{props:["text"],out:"text"},sup:{props:["text"],out:"text"},chem2:{props:["equation"],out:"equation"},ill:{props:["text","lan1","text1","lan2","text2"],out:"text"},abbr:{props:["abbr","meaning","ipa"],out:"abbr"}},li,di,Ai,Bi,Wi,Vi,ea,ra,ea,ra);const sa=St;let la=Object.assign({},Yt,ni,oa);Object.keys(sa).forEach((e=>{la[e]=la[sa[e]]}));var ca=la;const ua=kt,ma=_t,pa=ca,da=Je,{isArray:ga,isObject:ha}=n,fa=["0","1","2","3","4","5","6","7","8","9"];var ba=function(e,t){let i=e.name;if(!0===ua.hasOwnProperty(i))return[""];if(!0===ma.isInfobox(i)){let t=da(e.body,[],"raw");return["",ma.format(t)]}if(!0===/^cite [a-z]/.test(i)){let t=da(e.body);return t.type=t.template,t.template="citation",["",t]}if(!0===pa.hasOwnProperty(i)){if("number"==typeof pa[i]){return[da(e.body,fa)[String(pa[i])]||""]}if("string"==typeof pa[i])return[pa[i]];if(!0===ga(pa[i])){return["",da(e.body,pa[i])]}if(!0===ha(pa[i])){let t=da(e.body,pa[i].props);return[t[pa[i].out],t]}if("function"==typeof pa[i]){let a=[];return[pa[i](e.body,a,da,null,t),a[0]]}}let a=da(e.body);return 0===Object.keys(a).length&&(a=null),["",a]};const{trim_whitespace:ka}=n,wa=Ae,ya=lt,xa=bt,va=ba,$a=/^(={1,5})(.{1,200}?)={1,5}$/,ja=/\{\{.+?\}\}/;var _a=function(e,t){let i=t.match($a);if(!i)return e.title="",e.depth=0,e;let a=i[2]||"";a=wa(a).text(),ja.test(a)&&(a=function(e){let t=xa(e);if(t.length){let[i]=va(t[0]);e=e.replace(t[0].body,i)}return e}(a));let n={_wiki:a};ya(n),a=n._wiki,a=ka(a);let r=0;return i[1]&&(r=i[1].length-2),e.title=a,e.depth=r,e};const za=/.*rowspan *= *["']?([0-9]+)["']?[ |]*/,Oa=/.*colspan *= *["']?([0-9]+)["']?[ |]*/;const Ea=Ae,Sa=function(e){let t=[],i=[];e=function(e){return e=e.filter((e=>e&&!0!==/^\|\+/.test(e))),!0===/^\{\|/.test(e[0])&&e.shift(),!0===/^\|\}/.test(e[e.length-1])&&e.pop(),!0===/^\|-/.test(e[0])&&e.shift(),e}(e);for(let a=0;a<e.length;a+=1){let n=e[a];if(!0===/^\|-/.test(n))i.length>0&&(t.push(i),i=[]);else{let e=n.charAt(0);"|"!==e&&"!"!==e||(n=n.substring(1)),n=n.split(/(?:\|\||!!)/),"!"===e&&(n[0]=e+n[0]),n.forEach((e=>{e=e.trim(),i.push(e)}))}}return i.length>0&&t.push(i),t},Ca=function(e){return e=function(e){return e.forEach(((t,i)=>{t.forEach(((a,n)=>{let r=a.match(za);if(null!==r){let o=parseInt(r[1],10);a=a.replace(za,""),t[n]=a;for(let t=i+1;t<i+o&&e[t];t+=1)e[t].splice(n,0,a)}}))})),e}(e=function(e){return e.forEach((e=>{e.forEach(((t,i)=>{let a=t.match(Oa);if(null!==a){let n=parseInt(a[1],10);e[i]=t.replace(Oa,"");for(let t=1;t<n;t+=1)e.splice(i+1,0,"")}}))})),e.filter((e=>e.length>0))}(e))},Na=/^!/,qa={name:!0,age:!0,born:!0,date:!0,year:!0,city:!0,country:!0,population:!0,count:!0,number:!0},La=function(e){return(e=Ea(e).text()).match(/\|/)&&(e=e.replace(/.*?\| ?/,"")),e=(e=(e=e.replace(/style=['"].*?["']/,"")).replace(/^!/,"")).trim()},Ta=function(e){return(e=e||[]).length-e.filter((e=>e)).length>3},Aa=function(e){if(e.length<=3)return[];let t=e[0].slice(0);t=t.map((e=>(e=e.replace(/^! */,""),e=Ea(e).text(),e=(e=La(e)).toLowerCase())));for(let i=0;i<t.length;i+=1)if(qa.hasOwnProperty(t[i]))return e.shift(),t;return[]};var Pa=function(e){let t=e.replace(/\r/g,"").replace(/\n(\s*[^|!{\s])/g," $1").split(/\n/).map((e=>e.trim())),i=Sa(t);if(i=i.filter((e=>e)),0===i.length)return[];i=function(e){return e.filter((e=>1!==e.length||!e[0]||!Na.test(e[0])||!1!==/rowspan/i.test(e[0])))}(i),i=Ca(i);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];Ta(e[0])&&e.shift();let i=e[0];return i&&i[0]&&i[1]&&(/^!/.test(i[0])||/^!/.test(i[1]))&&(t=i.map((e=>(e=e.replace(/^! */,""),La(e)))),e.shift()),i=e[0],i&&i[0]&&i[1]&&/^!/.test(i[0])&&/^!/.test(i[1])&&(i.forEach(((e,i)=>{e=e.replace(/^! */,""),e=La(e),!0===Boolean(e)&&(t[i]=e)})),e.shift()),t}(i);if(!a||a.length<=1){a=Aa(i);let e=i[i.length-1]||[];a.length<=1&&e.length>2&&(a=Aa(i.slice(1)),a.length>0&&(i=i.slice(2)))}let n=i.map((e=>function(e,t){let i={};return e.forEach(((e,a)=>{let n=t[a]||"col"+(a+1),r=Ea(e);r.text(La(r.text())),i[n]=r})),i}(e,a)));return n};const Da=ee;var Ia=function(e,t){return e.map((e=>{let i={};return Object.keys(e).forEach((t=>{i[t]=e[t].json()})),!0===t.encode&&(i=Da.encodeObj(i)),i}))};const Ma=d,Ra=Ia,Ua={},Ba=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),e=e.replace(/[_-]/g," "),e=e.replace(/\(.*?\)/,""),e=e.trim(),e},Fa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object.defineProperty(this,"data",{enumerable:!1,value:e}),Object.defineProperty(this,"_wiki",{enumerable:!1,value:t})},Ka={links(e){let t=[];if(this.data.forEach((e=>{Object.keys(e).forEach((i=>{t=t.concat(e[i].links())}))})),"string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t},get(e){let t=this.data[0]||{},i=Object.keys(t).reduce(((e,t)=>(e[Ba(t)]=t,e)),{});if("string"==typeof e){let t=Ba(e);return t=i[t]||t,this.data.map((e=>e[t]?e[t].text():null))}return e=e.map(Ba).map((e=>i[e]||e)),this.data.map((t=>e.reduce(((e,i)=>(t[i]?e[i]=t[i].text():e[i]="",e)),{})))},keyValue(e){let t=this.json(e);return t.forEach((e=>{Object.keys(e).forEach((t=>{e[t]=e[t].text}))})),t},json(e){return e=Ma(e,Ua),Ra(this.data,e)},text:()=>"",wikitext(){return this._wiki||""}};Ka.keyvalue=Ka.keyValue,Ka.keyval=Ka.keyValue,Object.keys(Ka).forEach((e=>{Fa.prototype[e]=Ka[e]}));var Wa=Fa;const Za=Pa,Ha=Wa,Ya=/^\s*\{\|/,Ga=/^\s*\|\}/;var Va=function(e){let t=[],i=e._wiki,a=i.split("\n"),n=[];for(let e=0;e<a.length;e+=1)if(!0!==Ya.test(a[e]))if(!0!==Ga.test(a[e]))n.length>0&&(n[n.length-1]+="\n"+a[e]);else{n[n.length-1]+="\n"+a[e];let i=n.pop();t.push(i)}else n.push(a[e]);let r=[];t.forEach((e=>{if(e){i=i.replace(e+"\n",""),i=i.replace(e,"");let t=Za(e);t&&t.length>0&&r.push(new Ha(t,e))}})),r.length>0&&(e._tables=r),e._wiki=i};const Ja=d,Xa={sentences:!0};const Qa=function(e,t){let i={};return!0===(t=Ja(t,Xa)).sentences&&(i.sentences=e.sentences().map((e=>e.json(t)))),i},en=d,tn={sentences:!0,lists:!0,images:!0},an=function(e){Object.defineProperty(this,"data",{enumerable:!1,value:e})},nn={sentences:function(){return this.data.sentences||[]},references:function(){return this.data.references},lists:function(){return this.data.lists},images(){return this.data.images||[]},links:function(e){let t=[];if(this.sentences().forEach((i=>{t=t.concat(i.links(e))})),"string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t||[]},interwiki(){let e=[];return this.sentences().forEach((t=>{e=e.concat(t.interwiki())})),e||[]},text:function(e){e=en(e,tn);let t=this.sentences().map((t=>t.text(e))).join(" ");return this.lists().forEach((e=>{t+="\n"+e.text()})),t},json:function(e){return e=en(e,tn),Qa(this,e)},wikitext:function(){return this.data.wiki}};nn.citations=nn.references,Object.keys(nn).forEach((e=>{an.prototype[e]=nn[e]}));const rn={sentences:"sentence",references:"reference",citation:"citations",lists:"list",images:"image",links:"link"};Object.keys(rn).forEach((e=>{an.prototype[rn[e]]=function(t){let i=this[e](t);return"number"==typeof t?i[t]:i[0]}}));var on=an;var sn=function(e){let t=[],i=[];const a=e.split("");let n=0;for(let r=0;r<a.length;r++){const a=e[r];if("["===a)n+=1;else if("]"===a)n-=1,n<0&&(n=0);else if(0===i.length)continue;if(i.push(a),0===n&&i.length>0){let e=0,a=0;for(let t=0;t<i.length;t++)"["===i[t]?e++:"]"===i[t]&&a++;e>a&&i.push("]"),t.push(i.join("")),i=[]}}return t};const ln=b,cn=C,un=Je,mn=Ae,pn=sn,dn=new RegExp("("+ln.images.join("|")+"):","i");let gn="(".concat(ln.images.join("|"),")");const hn=new RegExp(gn+":(.+?)[\\||\\]]","iu"),fn={thumb:!0,thumbnail:!0,border:!0,right:!0,left:!0,center:!0,top:!0,bottom:!0,none:!0,upright:!0,baseline:!0,middle:!0,sub:!0,super:!0};var bn=function(e,t){let i=e.wiki;pn(i).forEach((function(a){if(!0===dn.test(a)){e.images=e.images||[];let n=function(e,t){let i=e.match(hn);if(null===i||!i[2])return null;let a="".concat(i[1],":").concat(i[2]||"");if(a){let i={file:a,lang:t._lang,domain:t._domain,wiki:e,pluginData:{}};e=(e=e.replace(/^\[\[/,"")).replace(/\]\]$/,"");let n=un(e),r=n.list||[];return n.alt&&(i.alt=n.alt),r=r.filter((e=>!1===fn.hasOwnProperty(e))),r[r.length-1]&&(i.caption=mn(r[r.length-1])),new cn(i)}return null}(a,t);n&&e.images.push(n),i=i.replace(a,"")}})),e.wiki=i};const kn=d,wn={},yn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object.defineProperty(this,"data",{enumerable:!1,value:e}),Object.defineProperty(this,"wiki",{enumerable:!1,value:t})},xn={lines(){return this.data},links(e){let t=[];if(this.lines().forEach((e=>{t=t.concat(e.links())})),"string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t},json(e){return e=kn(e,wn),this.lines().map((t=>t.json(e)))},text(){return((e,t)=>e.map((e=>" * "+e.text(t))).join("\n"))(this.data)},wikitext(){return this.wiki||""}};Object.keys(xn).forEach((e=>{yn.prototype[e]=xn[e]}));var vn=yn;const $n=vn,jn=Ae,_n=/^[#*:;|]+/,zn=/^\*+[^:,|]{4}/,On=/^ ?#[^:,|]{4}/,En=/[a-z_0-9\]}]/i,Sn=function(e){return _n.test(e)||zn.test(e)||On.test(e)},Cn=function(e,t){let i=[];for(let a=t;a<e.length&&Sn(e[a]);a++)i.push(e[a]);return i=i.filter((e=>e&&En.test(e))),i=function(e){let t=1;e=e.filter((e=>e));for(let i=0;i<e.length;i++){let a=e[i];a.match(On)?(a=a.replace(/^ ?#*/,t+") "),a+="\n",t+=1):a.match(_n)&&(t=1,a=a.replace(_n,"")),e[i]=jn(a)}return e}(i),i};const Nn=on,qn=Pe,Ln=/\r?\n\r?\n/,Tn={image:bn,list:function(e){let t=e.wiki,i=t.split(/\n/g),a=[],n=[];for(let e=0;e<i.length;e++)if(Sn(i[e])){let t=Cn(i,e);t.length>0&&(a.push(t),e+=t.length-1)}else n.push(i[e]);e.lists=a.map((e=>new $n(e,t))),e.wiki=n.join("\n")}};var An=function(e,t){let i=e._wiki,a=i.split(Ln);a=a.filter((e=>e&&e.trim().length>0)),a=a.map((e=>{let i={wiki:e,lists:[],sentences:[],images:[]};return Tn.list(i),Tn.image(i,t),qn(i),new Nn(i)})),e._wiki=i,e._paragraphs=a};const Pn=ee;var Dn=function(e,t){let i=Object.keys(e.data).reduce(((t,i)=>(e.data[i]&&(t[i]=e.data[i].json()),t)),{});return!0===t.encode&&(i=Pn.encodeObj(i)),i};const In=Dn,Mn=C,{isArray:Rn}=n,Un=xe,Bn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),e=e.replace(/[-_]/g," "),e.trim()},Fn=function(e,t){this._type=e.type,this.domain=e.domain,Object.defineProperty(this,"data",{enumerable:!1,value:e.data}),Object.defineProperty(this,"wiki",{enumerable:!1,value:t})},Kn={type:function(){return this._type},links:function(e){let t=[];if(Object.keys(this.data).forEach((e=>{this.data[e].links().forEach((e=>t.push(e)))})),"string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t},image:function(){let e=this.data.image||this.data.image2||this.data.logo||this.data.image_skyline||this.data.image_flag;if(!e)return null;let t=e.json(),i=t.text;return t.file=i,t.text="",t.caption=this.data.caption,t.domain=this.domain,new Mn(t)},get:function(e){let t=Object.keys(this.data);if("string"==typeof e){let i=Bn(e);for(let e=0;e<t.length;e+=1){if(i===Bn(t[e]))return this.data[t[e]]}return new Un}return Rn(e)?(e=e.map(Bn)).map((e=>{for(let i=0;i<t.length;i+=1){if(e===Bn(t[i]))return this.data[t[i]]}return new Un})):new Un},text:function(){return""},json:function(e){return In(this,e=e||{})},wikitext:function(){return this.wiki||""},keyValue:function(){return Object.keys(this.data).reduce(((e,t)=>(this.data[t]&&(e[t]=this.data[t].text()),e)),{})}};Object.keys(Kn).forEach((e=>{Fn.prototype[e]=Kn[e]})),Fn.prototype.data=Fn.prototype.keyValue,Fn.prototype.template=Fn.prototype.type,Fn.prototype.images=Fn.prototype.image;var Wn=Fn;const Zn=Ae,Hn={text:function(){let e=this._text||"";return Zn(e).text()},json:function(){return this.data||{}},wikitext:function(){return this.wiki||""}},Yn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object.defineProperty(this,"data",{enumerable:!1,value:e}),Object.defineProperty(this,"_text",{enumerable:!1,value:t}),Object.defineProperty(this,"wiki",{enumerable:!1,value:i})};Object.keys(Hn).forEach((e=>{Yn.prototype[e]=Hn[e]}));var Gn=Yn;const Vn=Wn,Jn=tt,Xn=Gn,Qn=/^(cite |citation)/i,er={citation:!0,refn:!0,harvnb:!0,source:!0};var tr=function(e,t){let i={infoboxes:[],templates:[],references:[]};return e.forEach((e=>{let a=e.json,n=a.template||a.type||a.name;if(!0!==er[n]&&!0!==Qn.test(n))return"infobox"===a.template&&"yes"!==a.subbox?(a.domain=t,a.data=a.data||{},void i.infoboxes.push(new Vn(a,e.wiki))):void i.templates.push(new Xn(a,e.text,e.wiki));i.references.push(new Jn(a,e.wiki))})),i};const ir=bt,ar=ba,nr=tr;var rr=function(e,t){let{list:i,wiki:a}=function(e,t){let i=[],a=ir(e);const n=function(a,r){a.parent=r,a.children&&a.children.length>0&&a.children.forEach((e=>n(e,a)));let[o,s]=ar(a,t);a.wiki=o,s&&i.push({name:a.name,wiki:a.body,text:o,json:s});const l=function(e,t,i){e.parent&&(e.parent.body=e.parent.body.replace(t,i),l(e.parent,t,i))};l(a,a.body,a.wiki),e=e.replace(a.body,a.wiki)};return a.forEach((e=>n(e,null))),a.forEach((t=>{e=e.replace(t.body,t.wiki)})),{list:i,wiki:e}}(e._wiki,t),n=t?t._domain:null,{infoboxes:r,references:o,templates:s}=nr(i,n);e._infoboxes=e._infoboxes||[],e._references=e._references||[],e._templates=e._templates||[],e._infoboxes=e._infoboxes.concat(r),e._references=e._references.concat(o),e._templates=e._templates.concat(s),e._wiki=a};const or=Ae,sr=C;var lr=function(e,t,i){e.text=e.text.replace(/<gallery([^>]*)>([\s\S]+)<\/gallery>/g,((a,n,r)=>{let o=r.split(/\n/g);return o=o.filter((e=>e&&""!==e.trim())),o=o.map((e=>{let i=e.split(/\|/),a={file:i[0].trim(),lang:t.lang(),domain:t.domain()},n=new sr(a).json(),r=i.slice(1).join("|");return""!==r&&(n.caption=or(r)),n})),o.length>0&&e.templates.push({template:"gallery",images:o,pos:i.title}),""}))};const cr=rr;var ur=function(e){e.text=e.text.replace(/\{\{election box begin([\s\S]+?)\{\{election box end\}\}/gi,(t=>{let i={_wiki:t,_templates:[]};cr(i);let a=i._templates.map((e=>e.json())),n=a.find((e=>"election box"===e.template))||{},r=a.filter((e=>"election box candidate"===e.template)),o=a.find((e=>"election box gain"===e.template||"election box hold"===e.template))||{};return(r.length>0||o)&&e.templates.push({template:"election box",title:n.title,candidates:r,summary:o.data}),""}))};const mr=Pa,pr={coach:["team","year","g","w","l","w-l%","finish","pg","pw","pl","pw-l%"],player:["year","team","gp","gs","mpg","fg%","3p%","ft%","rpg","apg","spg","bpg","ppg"],roster:["player","gp","gs","mpg","fg%","3fg%","ft%","rpg","apg","spg","bpg","ppg"]};const dr=Pa;var gr=function(e){e.text=e.text.replace(/\{\{mlb game log (section|month)[\s\S]+?\{\{mlb game log (section|month) end\}\}/gi,(t=>{let i=function(e){let t=["#","date","opponent","score","win","loss","save","attendance","record"];return!0===/\|stadium=y/i.test(e)&&t.splice(7,0,"stadium"),!0===/\|time=y/i.test(e)&&t.splice(7,0,"time"),!0===/\|box=y/i.test(e)&&t.push("box"),t}(t);t=(t=t.replace(/^\{\{.*?\}\}/,"")).replace(/\{\{mlb game log (section|month) end\}\}/i,"");let a="! "+i.join(" !! "),n=dr("{|\n"+a+"\n"+t+"\n|}");return n=n.map((e=>(Object.keys(e).forEach((t=>{e[t]=e[t].text()})),e))),e.templates.push({template:"mlb game log section",data:n}),""}))};const hr=Pa;let fr=["res","record","opponent","method","event","date","round","time","location","notes"];const br=Ae;const kr=lr,wr=ur,yr=function(e){e.text=e.text.replace(/\{\{nba (coach|player|roster) statistics start([\s\S]+?)\{\{s-end\}\}/gi,((t,i)=>{t=(t=t.replace(/^\{\{.*?\}\}/,"")).replace(/\{\{s-end\}\}/,""),i=i.toLowerCase().trim();let a="! "+pr[i].join(" !! "),n=mr("{|\n"+a+"\n"+t+"\n|}");return n=n.map((e=>(Object.keys(e).forEach((t=>{e[t]=e[t].text()})),e))),e.templates.push({template:"NBA "+i+" statistics",data:n}),""}))},xr=gr,vr=function(e){e.text=e.text.replace(/\{\{mma record start[\s\S]+?\{\{end\}\}/gi,(t=>{t=(t=t.replace(/^\{\{.*?\}\}/,"")).replace(/\{\{end\}\}/i,"");let i="! "+fr.join(" !! "),a=hr("{|\n"+i+"\n"+t+"\n|}");return a=a.map((e=>(Object.keys(e).forEach((t=>{e[t]=e[t].text()})),e))),e.templates.push({template:"mma record start",data:a}),""}))},$r=function(e){e.text=e.text.replace(/<math([^>]*)>([\s\S]+)<\/math>/g,((t,i,a)=>{let n=br(a).text();return e.templates.push({template:"math",formula:n,raw:a}),n&&n.length<12?n:""})),e.text=e.text.replace(/<chem([^>]*)>([\s\S]+?)<\/chem>/g,((t,i,a)=>(e.templates.push({template:"chem",data:a}),"")))},jr=Gn;const _r=ne,zr=d,Or={heading:_a,table:Va,paragraphs:An,templates:rr,references:lt,startEndTemplates:function(e,t){const i={templates:[],text:e._wiki};return wr(i),kr(i,t,e),$r(i),xr(i),vr(i),yr(i),i.templates=i.templates.map((e=>new jr(e))),i}},Er={tables:!0,references:!0,paragraphs:!0,templates:!0,infoboxes:!0};class Sr{constructor(e,t){let i={doc:t,title:e.title||"",depth:e.depth,wiki:e.wiki||"",templates:[],tables:[],infoboxes:[],references:[],paragraphs:[]};Object.keys(i).forEach((e=>{Object.defineProperty(this,"_"+e,{enumerable:!1,writable:!0,value:i[e]})}));const a=Or.startEndTemplates(this,t);this._wiki=a.text,this._templates=this._templates.concat(a.templates),Or.references(this),Or.templates(this,t),Or.table(this),Or.paragraphs(this,t)}title(){return this._title||""}index(){if(!this._doc)return null;let e=this._doc.sections().indexOf(this);return-1===e?null:e}depth(){return this._depth}indentation(){return this.depth()}sentences(){return this.paragraphs().reduce(((e,t)=>e.concat(t.sentences())),[])}paragraphs(){return this._paragraphs||[]}links(e){let t=[];if(this.infoboxes().forEach((e=>{t.push(e.links())})),this.sentences().forEach((e=>{t.push(e.links())})),this.tables().forEach((e=>{t.push(e.links())})),this.lists().forEach((e=>{t.push(e.links())})),t=t.reduce(((e,t)=>e.concat(t)),[]).filter((e=>void 0!==e)),"string"==typeof e){let i=t.find((t=>t.page().toLowerCase()===e.toLowerCase()));return void 0===i?[]:[i]}return t}tables(){return this._tables||[]}templates(e){let t=this._templates||[];return"string"==typeof e?(e=e.toLowerCase(),t.filter((t=>t.data.template===e||t.data.name===e))):t}infoboxes(e){let t=this._infoboxes||[];return"string"==typeof e?(e=(e=e.replace(/^infobox /i,"")).trim().toLowerCase(),t.filter((t=>t._type===e))):t}coordinates(){return[...this.templates("coord"),...this.templates("coor")].map((e=>e.json()))}lists(){let e=[];return this.paragraphs().forEach((t=>{e=e.concat(t.lists())})),e}interwiki(){let e=[];return this.paragraphs().forEach((t=>{e=e.concat(t.interwiki())})),e}images(){let e=[];return this.paragraphs().forEach((t=>{e=e.concat(t.images())})),e}references(){return this._references||[]}remove(){if(!this._doc)return null;let e={};e[this.title()]=!0,this.children().forEach((t=>e[t.title()]=!0));let t=this._doc.sections();return t=t.filter((t=>!0!==e.hasOwnProperty(t.title()))),t=t.filter((t=>!0!==e.hasOwnProperty(t.title()))),this._doc._sections=t,this._doc}nextSibling(){if(!this._doc)return null;let e=this._doc.sections();for(let t=(this.index()||0)+1;t<e.length;t++){if(e[t].depth()<this.depth())return null;if(e[t].depth()===this.depth())return e[t]}return null}next(){return this.nextSibling()}lastSibling(){if(!this._doc)return null;return this._doc.sections()[(this.index()||0)-1]||null}last(){return this.lastSibling()}previousSibling(){return this.lastSibling()}previous(){return this.lastSibling()}children(e){if(!this._doc)return null;let t=this._doc.sections(),i=this.index()||0,a=[];if(t[i+1]&&t[i+1].depth()>this.depth())for(let e=i+1;e<t.length&&t[e].depth()>this.depth();e+=1)a.push(t[e]);return"string"==typeof e?a.find((t=>t.title().toLowerCase()===e.toLowerCase())):a}sections(e){return this.children(e)}parent(){if(!this._doc)return null;let e=this._doc.sections();for(let t=this.index()||0;t>=0;t-=1)if(e[t]&&e[t].depth()<this.depth())return e[t];return null}text(e){return e=zr(e,Er),this.paragraphs().map((t=>t.text(e))).join("\n\n")}wikitext(){return this._wiki}json(e){return e=zr(e,Er),_r(this,e)}}Sr.prototype.citations=Sr.prototype.references;const Cr={sentences:"sentence",paragraphs:"paragraph",links:"link",tables:"table",templates:"template",infoboxes:"infobox",coordinates:"coordinate",lists:"list",images:"image",references:"reference",citations:"citation"};Object.keys(Cr).forEach((e=>{let t=Cr[e];Sr.prototype[t]=function(t){let i=this[e](t);return"number"==typeof t?i[t]:i[0]||null}}));var Nr=Sr;const qr=Nr,Lr=new RegExp("^("+b.references.join("|")+"):?","i"),Tr=/(?:\n|^)(={2,5}.{1,200}?={2,5})/g,Ar={heading:_a};var Pr=function(e){let t=[],i=e._wiki.split(Tr);for(let a=0;a<i.length;a+=2){let n=i[a-1]||"",r=i[a]||"";if(""===r&&""===n)continue;let o={title:"",depth:null,wiki:r};Ar.heading(o,n),t.push(new qr(o,e))}return function(e){return e.filter(((t,i)=>!0!==Lr.test(t.title())||t.paragraphs().length>0||t.templates().length>0||(e[i+1]&&e[i+1].depth()>t.depth()&&(e[i+1]._depth-=1),!1)))}(t)};const Dr=b,Ir=new RegExp("\\[\\[:?("+Dr.categories.join("|")+"):(.{2,178}?)]](w{0,10})","gi"),Mr=new RegExp("^\\[\\[:?("+Dr.categories.join("|")+"):","gi");const Rr=p,Ur=f,Br=j,Fr=d,Kr=C,Wr=W,Zr=J,Hr={section:Pr,categories:function(e){const t=[];let i=e.match(Ir);i&&i.forEach((function(e){(e=(e=(e=e.replace(Mr,"")).replace(/\|?[ *]?\]\]$/,"")).replace(/\|.*/,""))&&!e.match(/[[\]]/)&&t.push(e.trim())}));const a=e.replace(Ir,"");return[t,a]}},Yr={tables:!0,lists:!0,paragraphs:!0};class Gr{constructor(e,t){let i={pageID:(t=t||{}).pageID||t.id||null,namespace:t.namespace||t.ns||null,lang:t.lang||t.language||null,domain:t.domain||null,title:t.title||null,type:"page",redirectTo:null,wikidata:t.wikidata||null,wiki:e||"",categories:[],sections:[],coordinates:[],userAgent:t.userAgent||t["User-Agent"]||t["Api-User-Agent"]||"User of the wtf_wikipedia library"};if(Object.keys(i).forEach((e=>{Object.defineProperty(this,"_"+e,{enumerable:!1,writable:!0,value:i[e]})})),!0===Wr.isRedirect(this._wiki)){this._type="redirect",this._redirectTo=Wr.parse(this._wiki);const[e,t]=Hr.categories(this._wiki);return this._categories=e,void(this._wiki=t)}this._wiki=Zr(this._wiki);const[a,n]=Hr.categories(this._wiki);this._categories=a,this._wiki=n,this._sections=Hr.section(this)}title(e){if(void 0!==e)return this._title=e,e;if(this._title)return this._title;let t=null,i=this.sentence();return i&&(t=i.bold()),t}pageID(e){return void 0!==e&&(this._pageID=e),this._pageID||null}wikidata(e){return void 0!==e&&(this._wikidata=e),this._wikidata||null}domain(e){return void 0!==e&&(this._domain=e),this._domain||null}language(e){return void 0!==e&&(this._lang=e),this._lang||null}url(){let e=this.title();if(!e)return null;let t=this.language()||"en",i=this.domain()||"wikipedia.org";return e=e.replace(/ /g,"_"),e=encodeURIComponent(e),"https://".concat(t,".").concat(i,"/wiki/").concat(e)}namespace(e){return void 0!==e&&(this._namespace=e),this._namespace||null}isRedirect(){return"redirect"===this._type}redirectTo(){return this._redirectTo}isDisambiguation(){return Br(this)}categories(e){let t=this._categories||[];return"number"==typeof e?[t[e]]:t}sections(e){let t=this._sections||[];if(t.forEach((e=>{e._doc=this})),"string"==typeof e){let i=e.toLowerCase().trim();return t.filter((e=>e.title().toLowerCase()===i))}return"number"==typeof e?[t[e]]:t}paragraphs(e){let t=[];return this.sections().forEach((e=>{t=t.concat(e.paragraphs())})),"number"==typeof e?[t[e]]:t}sentences(e){let t=[];return this.sections().forEach((e=>{t=t.concat(e.sentences())})),"number"==typeof e?[t[e]]:t}images(e){let t=Rr(this,"images",null);return this.infoboxes().forEach((e=>{let i=e.image();i&&t.unshift(i)})),this.templates().forEach((e=>{"gallery"===e.data.template&&(e.data.images=e.data.images||[],e.data.images.forEach((e=>{e instanceof Kr||(e.language=this.language(),e.domain=this.domain(),e=new Kr(e)),t.push(e)})))})),"number"==typeof e?[t[e]]:t}links(e){return Rr(this,"links",e)}interwiki(e){return Rr(this,"interwiki",e)}lists(e){return Rr(this,"lists",e)}tables(e){return Rr(this,"tables",e)}templates(e){return Rr(this,"templates",e)}references(e){return Rr(this,"references",e)}citations(e){return this.references(e)}coordinates(e){return Rr(this,"coordinates",e)}infoboxes(e){let t=Rr(this,"infoboxes",e);return t=t.sort(((e,t)=>Object.keys(e.data).length>Object.keys(t.data).length?-1:1)),t}text(e){if(e=Fr(e,Yr),!0===this.isRedirect())return"";return this.sections().map((t=>t.text(e))).join("\n\n")}json(e){return e=Fr(e,Yr),Ur(this,e)}wikitext(){return this._wiki||""}debug(){return console.log("\n"),this.sections().forEach((e=>{let t=" - ";for(let i=0;i<e.depth();i+=1)t=" -"+t;console.log(t+(e.title()||"(Intro)"))})),this}}const Vr={categories:"category",sections:"section",paragraphs:"paragraph",sentences:"sentence",images:"image",links:"link",lists:"list",tables:"table",templates:"template",references:"reference",citations:"citation",coordinates:"coordinate",infoboxes:"infobox"};Object.keys(Vr).forEach((e=>{let t=Vr[e];Gr.prototype[t]=function(t){return this[e](t)[0]||null}})),Gr.prototype.lang=Gr.prototype.language,Gr.prototype.ns=Gr.prototype.namespace,Gr.prototype.plaintext=Gr.prototype.text,Gr.prototype.isDisambig=Gr.prototype.isDisambiguation,Gr.prototype.citations=Gr.prototype.references,Gr.prototype.redirectsTo=Gr.prototype.redirectTo,Gr.prototype.redirect=Gr.prototype.redirectTo,Gr.prototype.redirects=Gr.prototype.redirectTo;var Jr=Gr;const Xr=Jr,{isArray:Qr}=n;const eo=i,to=a,io=u,ao=m,no=function(e,t){let i=(e=e.filter((e=>e))).map((e=>new Xr(e.wiki,e.meta)));return 0===i.length?null:Qr(t)||1!==i.length?i:i[0]},ro=function(e){let t,i=e.userAgent||e["User-Agent"]||e["Api-User-Agent"]||"User of the wtf_wikipedia library";return t=e.noOrigin?"":e.origin||e.Origin||"*",{method:"GET",headers:{"Content-Type":"application/json","Api-User-Agent":i,"User-Agent":i,Origin:t,"Accept-Encoding":"gzip"},redirect:"follow"}},oo=/^https?:\/\//,so={lang:"en",wiki:"wikipedia",domain:void 0,follow_redirects:!0,path:"api.php"};const lo=i;const co=function(e,t,i){"string"==typeof t&&(t={lang:t}),(t={...so,...t}).title=e,"string"==typeof e&&oo.test(e)&&(t={...t,...to(e)});const a=io(t),n=ro(t);return eo(a,n).then((e=>e.json())).then((a=>{let n=ao(a,t);return n=no(n,e),i&&i(null,n),n})).catch((e=>(console.error(e),i&&i(e,null),null)))},uo=Jr,mo=function(e,t){return new uo(e,t)},po={Doc:Jr,Section:Nr,Paragraph:on,Sentence:xe,Image:C,Infobox:Wn,Link:ce,List:vn,Reference:tt,Table:Wa,Template:Gn,http:function(e,t){return lo(e,t).then((function(e){return e.json()}))},wtf:mo};let go=ca,ho=wt;return mo.fetch=function(e,t,i){return co(e,t,i)},mo.plugin=mo.extend=function(e){return e(po,go,ho),this},mo.version="9.1.0",mo}));
